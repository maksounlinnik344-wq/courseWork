2025-11-12 17:12:18,310 - __main__ - INFO - Инициализация базы данных...
2025-11-12 17:12:18,405 - __main__ - INFO - База данных инициализирована успешно
2025-11-12 17:12:18,557 - __main__ - WARNING - Не удалось отправить уведомление админу 1172430615: Telegram server says - Bad Request: chat not found
2025-11-12 17:12:18,558 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-12 17:12:18,558 - aiogram.dispatcher - INFO - Start polling
2025-11-12 17:12:18,640 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-12 17:13:06,108 - aiogram.event - INFO - Update id=896812337 is handled. Duration 530 ms by bot id=8026201833
2025-11-12 17:13:17,871 - aiogram.event - INFO - Update id=896812338 is handled. Duration 108 ms by bot id=8026201833
2025-11-12 17:13:23,661 - aiogram.event - INFO - Update id=896812339 is handled. Duration 139 ms by bot id=8026201833
2025-11-12 17:13:46,970 - aiogram.event - INFO - Update id=896812340 is handled. Duration 280 ms by bot id=8026201833
2025-11-12 17:14:06,905 - aiogram.event - INFO - Update id=896812341 is handled. Duration 296 ms by bot id=8026201833
2025-11-12 17:14:10,237 - aiogram.event - INFO - Update id=896812342 is handled. Duration 250 ms by bot id=8026201833
2025-11-12 17:14:15,065 - aiogram.event - INFO - Update id=896812343 is handled. Duration 250 ms by bot id=8026201833
2025-11-12 17:14:16,578 - aiogram.event - INFO - Update id=896812344 is handled. Duration 94 ms by bot id=8026201833
2025-11-12 17:14:19,437 - aiogram.event - INFO - Update id=896812345 is handled. Duration 94 ms by bot id=8026201833
2025-11-12 17:14:21,951 - aiogram.event - INFO - Update id=896812346 is handled. Duration 265 ms by bot id=8026201833
2025-11-12 17:14:34,070 - aiogram.event - INFO - Update id=896812347 is handled. Duration 203 ms by bot id=8026201833
2025-11-12 17:14:35,705 - aiogram.event - INFO - Update id=896812348 is handled. Duration 280 ms by bot id=8026201833
2025-11-12 17:14:36,930 - aiogram.event - INFO - Update id=896812349 is handled. Duration 405 ms by bot id=8026201833
2025-11-12 17:14:37,932 - aiogram.event - INFO - Update id=896812350 is handled. Duration 172 ms by bot id=8026201833
2025-11-12 17:14:41,246 - aiogram.event - INFO - Update id=896812351 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:14:43,427 - aiogram.event - INFO - Update id=896812352 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 17:14:45,135 - aiogram.event - INFO - Update id=896812353 is handled. Duration 219 ms by bot id=8026201833
2025-11-12 17:14:46,611 - aiogram.event - INFO - Update id=896812354 is handled. Duration 186 ms by bot id=8026201833
2025-11-12 17:14:48,045 - aiogram.event - INFO - Update id=896812355 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:14:50,060 - aiogram.event - INFO - Update id=896812356 is handled. Duration 94 ms by bot id=8026201833
2025-11-12 17:14:51,812 - aiogram.event - INFO - Update id=896812357 is handled. Duration 313 ms by bot id=8026201833
2025-11-12 17:14:53,526 - aiogram.event - INFO - Update id=896812358 is handled. Duration 438 ms by bot id=8026201833
2025-11-12 17:15:00,703 - aiogram.event - INFO - Update id=896812359 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:15:04,392 - aiogram.event - INFO - Update id=896812360 is handled. Duration 219 ms by bot id=8026201833
2025-11-12 17:15:08,269 - aiogram.event - INFO - Update id=896812361 is handled. Duration 141 ms by bot id=8026201833
2025-11-12 17:15:09,662 - aiogram.event - INFO - Update id=896812362 is handled. Duration 217 ms by bot id=8026201833
2025-11-12 17:15:17,810 - aiogram.event - INFO - Update id=896812363 is handled. Duration 140 ms by bot id=8026201833
2025-11-12 17:15:22,453 - aiogram.event - INFO - Update id=896812364 is handled. Duration 250 ms by bot id=8026201833
2025-11-12 17:15:34,952 - aiogram.event - INFO - Update id=896812365 is handled. Duration 578 ms by bot id=8026201833
2025-11-12 17:15:43,473 - aiogram.event - INFO - Update id=896812366 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 17:15:44,700 - aiogram.event - INFO - Update id=896812367 is handled. Duration 155 ms by bot id=8026201833
2025-11-12 17:15:46,752 - aiogram.event - INFO - Update id=896812368 is handled. Duration 469 ms by bot id=8026201833
2025-11-12 17:15:47,941 - aiogram.event - INFO - Update id=896812369 is handled. Duration 328 ms by bot id=8026201833
2025-11-12 17:16:03,391 - aiogram.event - INFO - Update id=896812370 is handled. Duration 2375 ms by bot id=8026201833
2025-11-12 17:16:05,773 - aiogram.event - INFO - Update id=896812371 is handled. Duration 157 ms by bot id=8026201833
2025-11-12 17:16:09,824 - aiogram.event - INFO - Update id=896812372 is handled. Duration 172 ms by bot id=8026201833
2025-11-12 17:16:12,929 - aiogram.event - INFO - Update id=896812373 is handled. Duration 155 ms by bot id=8026201833
2025-11-12 17:16:14,906 - aiogram.event - INFO - Update id=896812374 is handled. Duration 280 ms by bot id=8026201833
2025-11-12 17:16:16,267 - aiogram.event - INFO - Update id=896812375 is handled. Duration 250 ms by bot id=8026201833
2025-11-12 17:16:17,940 - aiogram.event - INFO - Update id=896812376 is handled. Duration 344 ms by bot id=8026201833
2025-11-12 17:16:20,835 - aiogram.event - INFO - Update id=896812377 is handled. Duration 172 ms by bot id=8026201833
2025-11-12 17:16:26,098 - aiogram.event - INFO - Update id=896812378 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 17:16:28,867 - aiogram.event - INFO - Update id=896812379 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:16:47,230 - aiogram.event - INFO - Update id=896812380 is handled. Duration 421 ms by bot id=8026201833
2025-11-12 17:16:51,388 - aiogram.event - INFO - Update id=896812381 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:16:55,094 - aiogram.event - INFO - Update id=896812382 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 17:16:58,398 - aiogram.event - INFO - Update id=896812383 is handled. Duration 110 ms by bot id=8026201833
2025-11-12 17:17:07,929 - aiogram.event - INFO - Update id=896812384 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 17:17:13,028 - aiogram.event - INFO - Update id=896812385 is handled. Duration 171 ms by bot id=8026201833
2025-11-12 17:17:17,888 - aiogram.event - INFO - Update id=896812386 is handled. Duration 110 ms by bot id=8026201833
2025-11-12 17:17:20,362 - aiogram.event - INFO - Update id=896812387 is handled. Duration 203 ms by bot id=8026201833
2025-11-12 17:17:24,651 - aiogram.event - INFO - Update id=896812388 is handled. Duration 188 ms by bot id=8026201833
2025-11-12 17:17:25,910 - aiogram.event - INFO - Update id=896812389 is handled. Duration 280 ms by bot id=8026201833
2025-11-12 17:17:27,284 - aiogram.event - INFO - Update id=896812390 is handled. Duration 108 ms by bot id=8026201833
2025-11-12 17:17:28,691 - aiogram.event - INFO - Update id=896812391 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 17:17:30,667 - aiogram.event - INFO - Update id=896812392 is handled. Duration 155 ms by bot id=8026201833
2025-11-12 17:17:33,159 - aiogram.event - INFO - Update id=896812393 is handled. Duration 171 ms by bot id=8026201833
2025-11-12 17:17:39,716 - aiogram.event - INFO - Update id=896812394 is handled. Duration 171 ms by bot id=8026201833
2025-11-12 17:17:41,518 - aiogram.event - INFO - Update id=896812395 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:18:32,622 - aiogram.event - INFO - Update id=896812396 is handled. Duration 483 ms by bot id=8026201833
2025-11-12 17:18:39,552 - aiogram.event - INFO - Update id=896812397 is handled. Duration 155 ms by bot id=8026201833
2025-11-12 17:18:41,068 - aiogram.event - INFO - Update id=896812398 is handled. Duration 250 ms by bot id=8026201833
2025-11-12 17:18:43,135 - aiogram.event - INFO - Update id=896812399 is handled. Duration 250 ms by bot id=8026201833
2025-11-12 17:18:44,655 - aiogram.event - INFO - Update id=896812400 is handled. Duration 233 ms by bot id=8026201833
2025-11-12 17:18:46,102 - aiogram.event - INFO - Update id=896812401 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 17:19:09,785 - aiogram.event - INFO - Update id=896812402 is handled. Duration 311 ms by bot id=8026201833
2025-11-12 17:20:17,363 - aiogram.dispatcher - INFO - Polling stopped
2025-11-12 17:20:17,622 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-12 17:20:17,623 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-12 17:24:48,424 - __main__ - INFO - Инициализация базы данных...
2025-11-12 17:24:48,544 - __main__ - INFO - База данных инициализирована успешно
2025-11-12 17:24:48,699 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-12 17:24:48,699 - aiogram.dispatcher - INFO - Start polling
2025-11-12 17:24:49,102 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-12 17:24:58,869 - aiogram.event - INFO - Update id=896812403 is not handled. Duration 0 ms by bot id=8026201833
2025-11-12 17:25:01,941 - aiogram.event - INFO - Update id=896812404 is not handled. Duration 0 ms by bot id=8026201833
2025-11-12 17:25:21,349 - aiogram.event - INFO - Update id=896812405 is not handled. Duration 15 ms by bot id=8026201833
2025-11-12 17:25:33,710 - aiogram.event - INFO - Update id=896812406 is handled. Duration 2609 ms by bot id=8026201833
2025-11-12 17:25:36,663 - aiogram.event - INFO - Update id=896812407 is handled. Duration 217 ms by bot id=8026201833
2025-11-12 17:25:38,716 - aiogram.event - INFO - Update id=896812408 is not handled. Duration 15 ms by bot id=8026201833
2025-11-12 17:25:44,658 - aiogram.event - INFO - Update id=896812409 is handled. Duration 171 ms by bot id=8026201833
2025-11-12 17:25:46,292 - aiogram.event - INFO - Update id=896812410 is handled. Duration 234 ms by bot id=8026201833
2025-11-12 17:25:47,737 - aiogram.event - INFO - Update id=896812411 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:25:49,462 - aiogram.event - INFO - Update id=896812412 is handled. Duration 172 ms by bot id=8026201833
2025-11-12 17:25:50,638 - aiogram.event - INFO - Update id=896812413 is not handled. Duration 16 ms by bot id=8026201833
2025-11-12 17:25:51,866 - aiogram.event - INFO - Update id=896812414 is not handled. Duration 0 ms by bot id=8026201833
2025-11-12 17:25:53,125 - aiogram.event - INFO - Update id=896812415 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:25:57,861 - aiogram.event - INFO - Update id=896812416 is not handled. Duration 0 ms by bot id=8026201833
2025-11-12 17:25:58,858 - aiogram.event - INFO - Update id=896812417 is not handled. Duration 15 ms by bot id=8026201833
2025-11-12 17:25:59,300 - aiogram.event - INFO - Update id=896812418 is not handled. Duration 0 ms by bot id=8026201833
2025-11-12 17:26:10,949 - aiogram.event - INFO - Update id=896812419 is not handled. Duration 15 ms by bot id=8026201833
2025-11-12 17:34:49,723 - aiogram.dispatcher - INFO - Polling stopped
2025-11-12 17:34:49,991 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-12 17:34:49,992 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-12 17:34:55,279 - __main__ - INFO - Инициализация базы данных...
2025-11-12 17:34:55,380 - __main__ - INFO - База данных инициализирована успешно
2025-11-12 17:34:55,571 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-12 17:34:55,572 - aiogram.dispatcher - INFO - Start polling
2025-11-12 17:34:55,661 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-12 17:35:11,926 - aiogram.event - INFO - Update id=896812420 is handled. Duration 516 ms by bot id=8026201833
2025-11-12 17:35:13,323 - aiogram.event - INFO - Update id=896812421 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:35:14,965 - aiogram.event - INFO - Update id=896812422 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:35:17,613 - aiogram.event - INFO - Update id=896812423 is handled. Duration 328 ms by bot id=8026201833
2025-11-12 17:35:21,797 - aiogram.event - INFO - Update id=896812424 is handled. Duration 359 ms by bot id=8026201833
2025-11-12 17:35:22,864 - aiogram.event - INFO - Update id=896812425 is not handled. Duration 0 ms by bot id=8026201833
2025-11-12 17:35:22,864 - aiogram.event - ERROR - Cause exception while process update id=896812425 by bot id=8026201833
AttributeError: module 'database' has no attribute 'get_all_products'
Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\admin.py", line 115, in view_all_products
    products = await database.get_all_products()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'database' has no attribute 'get_all_products'
2025-11-12 17:35:42,774 - aiogram.event - INFO - Update id=896812426 is not handled. Duration 0 ms by bot id=8026201833
2025-11-12 17:35:42,775 - aiogram.event - ERROR - Cause exception while process update id=896812426 by bot id=8026201833
AttributeError: module 'database' has no attribute 'get_all_products'
Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\admin.py", line 185, in start_deleting_product
    products = await database.get_all_products()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'database' has no attribute 'get_all_products'
2025-11-12 17:35:47,441 - aiogram.event - INFO - Update id=896812427 is not handled. Duration 0 ms by bot id=8026201833
2025-11-12 17:35:47,441 - aiogram.event - ERROR - Cause exception while process update id=896812427 by bot id=8026201833
ValidationError: 1 validation error for EditMessageText
reply_markup
  Input should be a valid dictionary or instance of InlineKeyboardMarkup [type=model_type, input_value=ReplyKeyboardMarkup(keybo...er=None, selective=None), input_type=ReplyKeyboardMarkup]
    For further information visit https://errors.pydantic.dev/2.5/v/model_type
Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\admin.py", line 363, in back_to_admin
    await callback.message.edit_text(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\types\message.py", line 3292, in edit_text
    return EditMessageText(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\pydantic\main.py", line 164, in __init__
    __pydantic_self__.__pydantic_validator__.validate_python(data, self_instance=__pydantic_self__)
pydantic_core._pydantic_core.ValidationError: 1 validation error for EditMessageText
reply_markup
  Input should be a valid dictionary or instance of InlineKeyboardMarkup [type=model_type, input_value=ReplyKeyboardMarkup(keybo...er=None, selective=None), input_type=ReplyKeyboardMarkup]
    For further information visit https://errors.pydantic.dev/2.5/v/model_type
2025-11-12 17:42:33,620 - aiogram.event - INFO - Update id=896812428 is handled. Duration 344 ms by bot id=8026201833
2025-11-12 17:42:34,992 - aiogram.event - INFO - Update id=896812429 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 17:42:36,677 - aiogram.event - INFO - Update id=896812430 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:42:37,847 - aiogram.event - INFO - Update id=896812431 is not handled. Duration 0 ms by bot id=8026201833
2025-11-12 17:42:37,848 - aiogram.event - ERROR - Cause exception while process update id=896812431 by bot id=8026201833
ValidationError: 1 validation error for EditMessageText
reply_markup
  Input should be a valid dictionary or instance of InlineKeyboardMarkup [type=model_type, input_value=ReplyKeyboardMarkup(keybo...er=None, selective=None), input_type=ReplyKeyboardMarkup]
    For further information visit https://errors.pydantic.dev/2.5/v/model_type
Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\admin.py", line 363, in back_to_admin
    await callback.answer("❌ У вас нет прав доступа.", show_alert=True)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\types\message.py", line 3292, in edit_text
    return EditMessageText(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\pydantic\main.py", line 164, in __init__
    __pydantic_self__.__pydantic_validator__.validate_python(data, self_instance=__pydantic_self__)
pydantic_core._pydantic_core.ValidationError: 1 validation error for EditMessageText
reply_markup
  Input should be a valid dictionary or instance of InlineKeyboardMarkup [type=model_type, input_value=ReplyKeyboardMarkup(keybo...er=None, selective=None), input_type=ReplyKeyboardMarkup]
    For further information visit https://errors.pydantic.dev/2.5/v/model_type
2025-11-12 17:42:42,160 - aiogram.event - INFO - Update id=896812432 is handled. Duration 155 ms by bot id=8026201833
2025-11-12 17:42:43,368 - aiogram.event - INFO - Update id=896812433 is handled. Duration 217 ms by bot id=8026201833
2025-11-12 17:42:44,490 - aiogram.event - INFO - Update id=896812434 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 17:42:47,876 - aiogram.event - INFO - Update id=896812435 is handled. Duration 108 ms by bot id=8026201833
2025-11-12 17:42:51,478 - aiogram.event - INFO - Update id=896812436 is handled. Duration 2234 ms by bot id=8026201833
2025-11-12 17:42:57,455 - aiogram.event - INFO - Update id=896812437 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:42:59,457 - aiogram.event - INFO - Update id=896812438 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 17:43:01,725 - aiogram.event - INFO - Update id=896812439 is handled. Duration 140 ms by bot id=8026201833
2025-11-12 17:43:03,215 - aiogram.event - INFO - Update id=896812440 is handled. Duration 140 ms by bot id=8026201833
2025-11-12 17:43:04,692 - aiogram.event - INFO - Update id=896812441 is not handled. Duration 0 ms by bot id=8026201833
2025-11-12 17:43:04,693 - aiogram.event - ERROR - Cause exception while process update id=896812441 by bot id=8026201833
ValidationError: 1 validation error for EditMessageText
reply_markup
  Input should be a valid dictionary or instance of InlineKeyboardMarkup [type=model_type, input_value=ReplyKeyboardMarkup(keybo...er=None, selective=None), input_type=ReplyKeyboardMarkup]
    For further information visit https://errors.pydantic.dev/2.5/v/model_type
Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\admin.py", line 363, in back_to_admin
    await callback.answer("❌ У вас нет прав доступа.", show_alert=True)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\types\message.py", line 3292, in edit_text
    return EditMessageText(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\pydantic\main.py", line 164, in __init__
    __pydantic_self__.__pydantic_validator__.validate_python(data, self_instance=__pydantic_self__)
pydantic_core._pydantic_core.ValidationError: 1 validation error for EditMessageText
reply_markup
  Input should be a valid dictionary or instance of InlineKeyboardMarkup [type=model_type, input_value=ReplyKeyboardMarkup(keybo...er=None, selective=None), input_type=ReplyKeyboardMarkup]
    For further information visit https://errors.pydantic.dev/2.5/v/model_type
2025-11-12 17:44:15,038 - aiogram.event - INFO - Update id=896812442 is handled. Duration 280 ms by bot id=8026201833
2025-11-12 17:44:15,922 - aiogram.event - INFO - Update id=896812443 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:44:17,737 - aiogram.event - INFO - Update id=896812444 is handled. Duration 655 ms by bot id=8026201833
2025-11-12 17:44:18,189 - aiogram.event - INFO - Update id=896812445 is not handled. Duration 0 ms by bot id=8026201833
2025-11-12 17:44:18,189 - aiogram.event - ERROR - Cause exception while process update id=896812445 by bot id=8026201833
ValidationError: 1 validation error for EditMessageText
reply_markup
  Input should be a valid dictionary or instance of InlineKeyboardMarkup [type=model_type, input_value=ReplyKeyboardMarkup(keybo...er=None, selective=None), input_type=ReplyKeyboardMarkup]
    For further information visit https://errors.pydantic.dev/2.5/v/model_type
Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\admin.py", line 363, in back_to_admin
    await callback.answer("❌ У вас нет прав доступа.", show_alert=True)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\types\message.py", line 3292, in edit_text
    return EditMessageText(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\pydantic\main.py", line 164, in __init__
    __pydantic_self__.__pydantic_validator__.validate_python(data, self_instance=__pydantic_self__)
pydantic_core._pydantic_core.ValidationError: 1 validation error for EditMessageText
reply_markup
  Input should be a valid dictionary or instance of InlineKeyboardMarkup [type=model_type, input_value=ReplyKeyboardMarkup(keybo...er=None, selective=None), input_type=ReplyKeyboardMarkup]
    For further information visit https://errors.pydantic.dev/2.5/v/model_type
2025-11-12 17:44:20,237 - aiogram.event - INFO - Update id=896812446 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 17:44:26,926 - aiogram.event - INFO - Update id=896812447 is handled. Duration 172 ms by bot id=8026201833
2025-11-12 17:44:28,967 - aiogram.event - INFO - Update id=896812448 is handled. Duration 265 ms by bot id=8026201833
2025-11-12 17:44:34,084 - aiogram.event - INFO - Update id=896812449 is handled. Duration 186 ms by bot id=8026201833
2025-11-12 17:44:35,467 - aiogram.event - INFO - Update id=896812450 is not handled. Duration 15 ms by bot id=8026201833
2025-11-12 17:44:35,467 - aiogram.event - ERROR - Cause exception while process update id=896812450 by bot id=8026201833
ValidationError: 1 validation error for EditMessageText
reply_markup
  Input should be a valid dictionary or instance of InlineKeyboardMarkup [type=model_type, input_value=ReplyKeyboardMarkup(keybo...er=None, selective=None), input_type=ReplyKeyboardMarkup]
    For further information visit https://errors.pydantic.dev/2.5/v/model_type
Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\admin.py", line 363, in back_to_admin
    await callback.answer("❌ У вас нет прав доступа.", show_alert=True)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\types\message.py", line 3292, in edit_text
    return EditMessageText(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\pydantic\main.py", line 164, in __init__
    __pydantic_self__.__pydantic_validator__.validate_python(data, self_instance=__pydantic_self__)
pydantic_core._pydantic_core.ValidationError: 1 validation error for EditMessageText
reply_markup
  Input should be a valid dictionary or instance of InlineKeyboardMarkup [type=model_type, input_value=ReplyKeyboardMarkup(keybo...er=None, selective=None), input_type=ReplyKeyboardMarkup]
    For further information visit https://errors.pydantic.dev/2.5/v/model_type
2025-11-12 17:44:43,350 - aiogram.event - INFO - Update id=896812451 is handled. Duration 140 ms by bot id=8026201833
2025-11-12 17:44:45,078 - aiogram.event - INFO - Update id=896812452 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 17:44:47,123 - aiogram.event - INFO - Update id=896812453 is handled. Duration 186 ms by bot id=8026201833
2025-11-12 17:44:48,263 - aiogram.event - INFO - Update id=896812454 is handled. Duration 203 ms by bot id=8026201833
2025-11-12 17:44:49,329 - aiogram.event - INFO - Update id=896812455 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:44:50,346 - aiogram.event - INFO - Update id=896812456 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:44:51,382 - aiogram.event - INFO - Update id=896812457 is handled. Duration 108 ms by bot id=8026201833
2025-11-12 17:44:52,961 - aiogram.event - INFO - Update id=896812458 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:44:54,290 - aiogram.event - INFO - Update id=896812459 is handled. Duration 217 ms by bot id=8026201833
2025-11-12 17:44:55,711 - aiogram.event - INFO - Update id=896812460 is handled. Duration 203 ms by bot id=8026201833
2025-11-12 17:44:58,488 - aiogram.event - INFO - Update id=896812461 is handled. Duration 359 ms by bot id=8026201833
2025-11-12 17:45:00,953 - aiogram.event - INFO - Update id=896812462 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:45:02,456 - aiogram.event - INFO - Update id=896812463 is handled. Duration 203 ms by bot id=8026201833
2025-11-12 17:45:03,707 - aiogram.event - INFO - Update id=896812464 is handled. Duration 186 ms by bot id=8026201833
2025-11-12 17:45:05,372 - aiogram.event - INFO - Update id=896812465 is handled. Duration 140 ms by bot id=8026201833
2025-11-12 17:45:06,410 - aiogram.event - INFO - Update id=896812466 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:45:38,080 - aiogram.event - INFO - Update id=896812467 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 17:45:46,377 - aiogram.event - INFO - Update id=896812468 is not handled. Duration 0 ms by bot id=8026201833
2025-11-12 17:45:46,378 - aiogram.event - ERROR - Cause exception while process update id=896812468 by bot id=8026201833
AttributeError: module 'database' has no attribute 'get_all_products'
Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\admin.py", line 115, in view_all_products
    products = await database.get_all_products()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'database' has no attribute 'get_all_products'
2025-11-12 17:45:48,388 - aiogram.event - INFO - Update id=896812469 is not handled. Duration 16 ms by bot id=8026201833
2025-11-12 17:45:48,388 - aiogram.event - ERROR - Cause exception while process update id=896812469 by bot id=8026201833
AttributeError: module 'database' has no attribute 'get_all_products'
Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\admin.py", line 185, in start_deleting_product
    products = await database.get_all_products()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'database' has no attribute 'get_all_products'
2025-11-12 17:45:54,746 - aiogram.dispatcher - INFO - Polling stopped
2025-11-12 17:45:55,006 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-12 17:45:55,006 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-12 17:46:23,053 - __main__ - INFO - Инициализация базы данных...
2025-11-12 17:46:23,257 - __main__ - INFO - База данных инициализирована успешно
2025-11-12 17:46:23,396 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-12 17:46:23,396 - aiogram.dispatcher - INFO - Start polling
2025-11-12 17:46:23,482 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-12 17:46:33,497 - aiogram.event - INFO - Update id=896812470 is handled. Duration 405 ms by bot id=8026201833
2025-11-12 17:46:34,423 - aiogram.event - INFO - Update id=896812471 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:46:35,362 - aiogram.event - INFO - Update id=896812472 is handled. Duration 155 ms by bot id=8026201833
2025-11-12 17:46:36,907 - aiogram.event - INFO - Update id=896812473 is handled. Duration 264 ms by bot id=8026201833
2025-11-12 17:46:38,330 - aiogram.event - INFO - Update id=896812474 is handled. Duration 219 ms by bot id=8026201833
2025-11-12 17:46:39,795 - aiogram.event - INFO - Update id=896812475 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 17:46:44,780 - aiogram.event - INFO - Update id=896812476 is handled. Duration 264 ms by bot id=8026201833
2025-11-12 17:47:04,523 - aiogram.event - INFO - Update id=896812477 is handled. Duration 516 ms by bot id=8026201833
2025-11-12 17:47:22,536 - aiogram.event - INFO - Update id=896812478 is handled. Duration 311 ms by bot id=8026201833
2025-11-12 17:47:26,935 - aiogram.event - INFO - Update id=896812479 is handled. Duration 282 ms by bot id=8026201833
2025-11-12 17:47:33,286 - aiogram.event - INFO - Update id=896812480 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:47:35,676 - aiogram.event - INFO - Update id=896812481 is handled. Duration 188 ms by bot id=8026201833
2025-11-12 17:47:37,411 - aiogram.event - INFO - Update id=896812482 is handled. Duration 217 ms by bot id=8026201833
2025-11-12 17:47:39,592 - aiogram.event - INFO - Update id=896812483 is handled. Duration 375 ms by bot id=8026201833
2025-11-12 17:47:41,468 - aiogram.event - INFO - Update id=896812484 is handled. Duration 375 ms by bot id=8026201833
2025-11-12 17:47:50,305 - aiogram.event - INFO - Update id=896812485 is handled. Duration 172 ms by bot id=8026201833
2025-11-12 17:47:51,611 - aiogram.event - INFO - Update id=896812486 is handled. Duration 186 ms by bot id=8026201833
2025-11-12 17:47:52,500 - aiogram.event - INFO - Update id=896812487 is handled. Duration 186 ms by bot id=8026201833
2025-11-12 17:48:10,515 - aiogram.event - INFO - Update id=896812488 is handled. Duration 360 ms by bot id=8026201833
2025-11-12 17:48:13,317 - aiogram.event - INFO - Update id=896812489 is handled. Duration 171 ms by bot id=8026201833
2025-11-12 17:49:15,360 - aiogram.event - INFO - Update id=896812490 is handled. Duration 390 ms by bot id=8026201833
2025-11-12 17:49:23,365 - aiogram.event - INFO - Update id=896812491 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:49:23,604 - aiogram.event - INFO - Update id=896812492 is handled. Duration 296 ms by bot id=8026201833
2025-11-12 17:49:25,336 - aiogram.event - INFO - Update id=896812493 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:49:27,152 - aiogram.event - INFO - Update id=896812494 is handled. Duration 467 ms by bot id=8026201833
2025-11-12 17:49:27,955 - aiogram.event - INFO - Update id=896812495 is handled. Duration 203 ms by bot id=8026201833
2025-11-12 17:49:28,974 - aiogram.event - INFO - Update id=896812496 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:49:30,934 - aiogram.event - INFO - Update id=896812497 is handled. Duration 250 ms by bot id=8026201833
2025-11-12 17:49:32,066 - aiogram.event - INFO - Update id=896812498 is handled. Duration 188 ms by bot id=8026201833
2025-11-12 17:49:33,396 - aiogram.event - INFO - Update id=896812499 is handled. Duration 235 ms by bot id=8026201833
2025-11-12 17:49:35,207 - aiogram.event - INFO - Update id=896812500 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 17:49:37,579 - aiogram.event - INFO - Update id=896812501 is handled. Duration 203 ms by bot id=8026201833
2025-11-12 17:49:39,721 - aiogram.event - INFO - Update id=896812502 is handled. Duration 171 ms by bot id=8026201833
2025-11-12 17:49:41,823 - aiogram.event - INFO - Update id=896812503 is handled. Duration 171 ms by bot id=8026201833
2025-11-12 17:49:43,656 - aiogram.event - INFO - Update id=896812504 is handled. Duration 405 ms by bot id=8026201833
2025-11-12 17:49:44,721 - aiogram.event - INFO - Update id=896812505 is handled. Duration 280 ms by bot id=8026201833
2025-11-12 17:49:46,558 - aiogram.event - INFO - Update id=896812506 is handled. Duration 171 ms by bot id=8026201833
2025-11-12 17:49:48,063 - aiogram.event - INFO - Update id=896812507 is handled. Duration 203 ms by bot id=8026201833
2025-11-12 17:49:49,011 - aiogram.event - INFO - Update id=896812508 is handled. Duration 235 ms by bot id=8026201833
2025-11-12 17:49:50,174 - aiogram.event - INFO - Update id=896812509 is handled. Duration 141 ms by bot id=8026201833
2025-11-12 17:49:52,030 - aiogram.event - INFO - Update id=896812510 is handled. Duration 250 ms by bot id=8026201833
2025-11-12 17:49:53,600 - aiogram.event - INFO - Update id=896812511 is handled. Duration 94 ms by bot id=8026201833
2025-11-12 17:49:57,448 - aiogram.event - INFO - Update id=896812512 is handled. Duration 2469 ms by bot id=8026201833
2025-11-12 17:49:59,076 - aiogram.event - INFO - Update id=896812513 is handled. Duration 250 ms by bot id=8026201833
2025-11-12 17:50:00,176 - aiogram.event - INFO - Update id=896812514 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:50:02,068 - aiogram.event - INFO - Update id=896812515 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 17:50:03,585 - aiogram.event - INFO - Update id=896812516 is handled. Duration 280 ms by bot id=8026201833
2025-11-12 17:50:04,804 - aiogram.event - INFO - Update id=896812517 is handled. Duration 250 ms by bot id=8026201833
2025-11-12 17:50:06,039 - aiogram.event - INFO - Update id=896812518 is handled. Duration 250 ms by bot id=8026201833
2025-11-12 17:50:07,800 - aiogram.event - INFO - Update id=896812519 is handled. Duration 141 ms by bot id=8026201833
2025-11-12 17:50:09,210 - aiogram.event - INFO - Update id=896812520 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:50:10,631 - aiogram.event - INFO - Update id=896812521 is handled. Duration 219 ms by bot id=8026201833
2025-11-12 17:50:12,080 - aiogram.event - INFO - Update id=896812522 is handled. Duration 234 ms by bot id=8026201833
2025-11-12 17:50:14,158 - aiogram.event - INFO - Update id=896812523 is handled. Duration 186 ms by bot id=8026201833
2025-11-12 17:50:16,976 - aiogram.event - INFO - Update id=896812524 is handled. Duration 344 ms by bot id=8026201833
2025-11-12 17:50:17,740 - aiogram.event - INFO - Update id=896812525 is handled. Duration 186 ms by bot id=8026201833
2025-11-12 17:50:19,585 - aiogram.event - INFO - Update id=896812526 is handled. Duration 186 ms by bot id=8026201833
2025-11-12 17:50:20,901 - aiogram.event - INFO - Update id=896812527 is handled. Duration 203 ms by bot id=8026201833
2025-11-12 17:50:21,851 - aiogram.event - INFO - Update id=896812528 is handled. Duration 94 ms by bot id=8026201833
2025-11-12 17:50:24,903 - aiogram.event - INFO - Update id=896812529 is handled. Duration 139 ms by bot id=8026201833
2025-11-12 17:50:27,378 - aiogram.event - INFO - Update id=896812530 is handled. Duration 233 ms by bot id=8026201833
2025-11-12 17:50:29,289 - aiogram.event - INFO - Update id=896812531 is handled. Duration 702 ms by bot id=8026201833
2025-11-12 17:50:30,109 - aiogram.event - INFO - Update id=896812532 is handled. Duration 234 ms by bot id=8026201833
2025-11-12 17:50:33,809 - aiogram.event - INFO - Update id=896812533 is handled. Duration 265 ms by bot id=8026201833
2025-11-12 17:50:36,111 - aiogram.event - INFO - Update id=896812534 is handled. Duration 203 ms by bot id=8026201833
2025-11-12 17:50:37,390 - aiogram.event - INFO - Update id=896812535 is handled. Duration 344 ms by bot id=8026201833
2025-11-12 17:50:39,057 - aiogram.event - INFO - Update id=896812536 is handled. Duration 578 ms by bot id=8026201833
2025-11-12 17:50:40,216 - aiogram.event - INFO - Update id=896812537 is handled. Duration 452 ms by bot id=8026201833
2025-11-12 17:50:41,028 - aiogram.event - INFO - Update id=896812538 is handled. Duration 139 ms by bot id=8026201833
2025-11-12 17:50:44,294 - aiogram.event - INFO - Update id=896812539 is handled. Duration 141 ms by bot id=8026201833
2025-11-12 17:50:45,785 - aiogram.event - INFO - Update id=896812540 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 17:50:47,129 - aiogram.event - INFO - Update id=896812541 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 17:50:48,088 - aiogram.event - INFO - Update id=896812542 is handled. Duration 234 ms by bot id=8026201833
2025-11-12 17:50:49,167 - aiogram.event - INFO - Update id=896812543 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:50:50,444 - aiogram.event - INFO - Update id=896812544 is handled. Duration 203 ms by bot id=8026201833
2025-11-12 17:50:51,559 - aiogram.event - INFO - Update id=896812545 is handled. Duration 188 ms by bot id=8026201833
2025-11-12 17:50:52,848 - aiogram.event - INFO - Update id=896812546 is handled. Duration 313 ms by bot id=8026201833
2025-11-12 17:50:54,196 - aiogram.event - INFO - Update id=896812547 is handled. Duration 500 ms by bot id=8026201833
2025-11-12 17:50:54,963 - aiogram.event - INFO - Update id=896812548 is handled. Duration 186 ms by bot id=8026201833
2025-11-12 17:50:57,470 - aiogram.event - INFO - Update id=896812549 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:50:59,677 - aiogram.event - INFO - Update id=896812550 is handled. Duration 188 ms by bot id=8026201833
2025-11-12 17:51:00,703 - aiogram.event - INFO - Update id=896812551 is handled. Duration 219 ms by bot id=8026201833
2025-11-12 17:51:01,731 - aiogram.event - INFO - Update id=896812552 is handled. Duration 265 ms by bot id=8026201833
2025-11-12 17:51:02,557 - aiogram.event - INFO - Update id=896812553 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 17:51:04,041 - aiogram.event - INFO - Update id=896812554 is handled. Duration 500 ms by bot id=8026201833
2025-11-12 17:51:04,930 - aiogram.event - INFO - Update id=896812555 is handled. Duration 359 ms by bot id=8026201833
2025-11-12 17:51:06,023 - aiogram.event - INFO - Update id=896812556 is handled. Duration 375 ms by bot id=8026201833
2025-11-12 17:51:07,149 - aiogram.event - INFO - Update id=896812557 is handled. Duration 469 ms by bot id=8026201833
2025-11-12 17:51:07,858 - aiogram.event - INFO - Update id=896812558 is handled. Duration 140 ms by bot id=8026201833
2025-11-12 17:51:10,407 - aiogram.event - INFO - Update id=896812559 is handled. Duration 92 ms by bot id=8026201833
2025-11-12 17:51:12,303 - aiogram.event - INFO - Update id=896812560 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:51:13,885 - aiogram.event - INFO - Update id=896812561 is handled. Duration 265 ms by bot id=8026201833
2025-11-12 17:51:15,260 - aiogram.event - INFO - Update id=896812562 is handled. Duration 108 ms by bot id=8026201833
2025-11-12 17:51:17,953 - aiogram.event - INFO - Update id=896812563 is handled. Duration 250 ms by bot id=8026201833
2025-11-12 17:51:19,069 - aiogram.event - INFO - Update id=896812564 is handled. Duration 344 ms by bot id=8026201833
2025-11-12 17:51:20,354 - aiogram.event - INFO - Update id=896812565 is handled. Duration 313 ms by bot id=8026201833
2025-11-12 17:51:21,173 - aiogram.event - INFO - Update id=896812566 is handled. Duration 344 ms by bot id=8026201833
2025-11-12 17:51:22,099 - aiogram.event - INFO - Update id=896812567 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 17:51:24,546 - aiogram.event - INFO - Update id=896812568 is handled. Duration 328 ms by bot id=8026201833
2025-11-12 17:51:26,113 - aiogram.event - INFO - Update id=896812569 is handled. Duration 328 ms by bot id=8026201833
2025-11-12 17:51:28,793 - aiogram.event - INFO - Update id=896812570 is handled. Duration 219 ms by bot id=8026201833
2025-11-12 17:51:29,725 - aiogram.event - INFO - Update id=896812571 is handled. Duration 219 ms by bot id=8026201833
2025-11-12 17:51:30,669 - aiogram.event - INFO - Update id=896812572 is handled. Duration 172 ms by bot id=8026201833
2025-11-12 17:51:32,522 - aiogram.event - INFO - Update id=896812573 is handled. Duration 219 ms by bot id=8026201833
2025-11-12 17:51:34,155 - aiogram.event - INFO - Update id=896812574 is handled. Duration 155 ms by bot id=8026201833
2025-11-12 17:51:36,259 - aiogram.event - INFO - Update id=896812575 is handled. Duration 280 ms by bot id=8026201833
2025-11-12 17:51:37,188 - aiogram.event - INFO - Update id=896812576 is handled. Duration 219 ms by bot id=8026201833
2025-11-12 17:51:38,072 - aiogram.event - INFO - Update id=896812577 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 17:51:41,201 - aiogram.event - INFO - Update id=896812578 is handled. Duration 265 ms by bot id=8026201833
2025-11-12 17:51:43,733 - aiogram.event - INFO - Update id=896812579 is handled. Duration 217 ms by bot id=8026201833
2025-11-12 17:51:46,213 - aiogram.event - INFO - Update id=896812580 is handled. Duration 78 ms by bot id=8026201833
2025-11-12 17:51:50,496 - aiogram.event - INFO - Update id=896812581 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:52:26,933 - aiogram.dispatcher - INFO - Polling stopped
2025-11-12 17:52:27,200 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-12 17:52:27,201 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-12 17:54:35,430 - __main__ - INFO - Инициализация базы данных...
2025-11-12 17:54:35,633 - __main__ - INFO - База данных инициализирована успешно
2025-11-12 17:54:35,821 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-12 17:54:35,821 - aiogram.dispatcher - INFO - Start polling
2025-11-12 17:54:35,925 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-12 17:54:39,392 - aiogram.event - INFO - Update id=896812582 is handled. Duration 360 ms by bot id=8026201833
2025-11-12 17:54:42,773 - aiogram.event - INFO - Update id=896812583 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 17:54:44,166 - aiogram.event - INFO - Update id=896812584 is handled. Duration 217 ms by bot id=8026201833
2025-11-12 17:55:07,470 - aiogram.event - INFO - Update id=896812585 is handled. Duration 375 ms by bot id=8026201833
2025-11-12 17:55:13,878 - aiogram.event - INFO - Update id=896812586 is handled. Duration 780 ms by bot id=8026201833
2025-11-12 18:01:27,717 - aiogram.event - INFO - Update id=896812587 is handled. Duration 531 ms by bot id=8026201833
2025-11-12 18:01:31,496 - aiogram.event - INFO - Update id=896812588 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 18:01:52,063 - aiogram.event - INFO - Update id=896812589 is handled. Duration 406 ms by bot id=8026201833
2025-11-12 18:01:59,742 - aiogram.event - INFO - Update id=896812590 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 18:02:10,589 - aiogram.event - INFO - Update id=896812591 is handled. Duration 313 ms by bot id=8026201833
2025-11-12 18:02:15,600 - aiogram.event - INFO - Update id=896812592 is handled. Duration 203 ms by bot id=8026201833
2025-11-12 18:02:18,469 - aiogram.event - INFO - Update id=896812593 is handled. Duration 406 ms by bot id=8026201833
2025-11-12 18:02:22,971 - aiogram.event - INFO - Update id=896812594 is handled. Duration 406 ms by bot id=8026201833
2025-11-12 18:02:24,519 - aiogram.event - INFO - Update id=896812595 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 18:02:26,964 - aiogram.event - INFO - Update id=896812596 is handled. Duration 110 ms by bot id=8026201833
2025-11-12 18:02:28,525 - aiogram.event - INFO - Update id=896812597 is handled. Duration 218 ms by bot id=8026201833
2025-11-12 18:02:32,484 - aiogram.event - INFO - Update id=896812598 is handled. Duration 406 ms by bot id=8026201833
2025-11-12 18:02:35,148 - aiogram.event - INFO - Update id=896812599 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 18:02:38,426 - aiogram.event - INFO - Update id=896812600 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 18:02:41,188 - aiogram.event - INFO - Update id=896812601 is handled. Duration 281 ms by bot id=8026201833
2025-11-12 18:02:44,252 - aiogram.event - INFO - Update id=896812602 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 18:02:48,414 - aiogram.event - INFO - Update id=896812603 is handled. Duration 359 ms by bot id=8026201833
2025-11-12 18:02:53,875 - aiogram.event - INFO - Update id=896812604 is handled. Duration 186 ms by bot id=8026201833
2025-11-12 18:03:37,930 - aiogram.event - INFO - Update id=896812605 is handled. Duration 375 ms by bot id=8026201833
2025-11-12 18:03:46,747 - aiogram.event - INFO - Update id=896812606 is handled. Duration 218 ms by bot id=8026201833
2025-11-12 18:04:12,007 - aiogram.event - INFO - Update id=896812607 is handled. Duration 359 ms by bot id=8026201833
2025-11-12 18:04:15,916 - aiogram.event - INFO - Update id=896812608 is handled. Duration 375 ms by bot id=8026201833
2025-11-12 18:04:17,819 - aiogram.event - INFO - Update id=896812609 is handled. Duration 422 ms by bot id=8026201833
2025-11-12 18:04:24,779 - aiogram.event - INFO - Update id=896812610 is handled. Duration 531 ms by bot id=8026201833
2025-11-12 18:04:49,490 - aiogram.event - INFO - Update id=896812611 is handled. Duration 656 ms by bot id=8026201833
2025-11-12 18:04:52,244 - aiogram.event - INFO - Update id=896812612 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 18:05:05,489 - aiogram.event - INFO - Update id=896812613 is handled. Duration 531 ms by bot id=8026201833
2025-11-12 18:05:06,706 - aiogram.event - INFO - Update id=896812614 is handled. Duration 218 ms by bot id=8026201833
2025-11-12 18:05:31,373 - aiogram.event - INFO - Update id=896812615 is handled. Duration 422 ms by bot id=8026201833
2025-11-12 18:05:32,583 - aiogram.event - INFO - Update id=896812616 is handled. Duration 186 ms by bot id=8026201833
2025-11-12 18:05:33,798 - aiogram.event - INFO - Update id=896812617 is handled. Duration 188 ms by bot id=8026201833
2025-11-12 18:05:36,042 - aiogram.event - INFO - Update id=896812618 is handled. Duration 250 ms by bot id=8026201833
2025-11-12 18:05:37,915 - aiogram.event - INFO - Update id=896812619 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 18:05:48,048 - aiogram.event - INFO - Update id=896812620 is handled. Duration 172 ms by bot id=8026201833
2025-11-12 18:05:51,442 - aiogram.event - INFO - Update id=896812621 is handled. Duration 188 ms by bot id=8026201833
2025-11-12 18:05:53,779 - aiogram.event - INFO - Update id=896812622 is handled. Duration 172 ms by bot id=8026201833
2025-11-12 18:05:55,826 - aiogram.event - INFO - Update id=896812623 is handled. Duration 233 ms by bot id=8026201833
2025-11-12 18:06:00,043 - aiogram.event - INFO - Update id=896812624 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 18:06:01,346 - aiogram.event - INFO - Update id=896812625 is handled. Duration 141 ms by bot id=8026201833
2025-11-12 18:06:02,696 - aiogram.event - INFO - Update id=896812626 is handled. Duration 328 ms by bot id=8026201833
2025-11-12 18:06:05,347 - aiogram.event - INFO - Update id=896812627 is handled. Duration 235 ms by bot id=8026201833
2025-11-12 18:06:06,913 - aiogram.event - INFO - Update id=896812628 is handled. Duration 218 ms by bot id=8026201833
2025-11-12 18:06:08,625 - aiogram.event - INFO - Update id=896812629 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 18:09:02,119 - aiogram.dispatcher - INFO - Polling stopped
2025-11-12 18:09:02,377 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-12 18:09:02,377 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-12 18:13:39,804 - __main__ - INFO - Инициализация базы данных...
2025-11-12 18:13:39,908 - __main__ - INFO - База данных инициализирована успешно
2025-11-12 18:13:40,079 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-12 18:13:40,079 - aiogram.dispatcher - INFO - Start polling
2025-11-12 18:13:40,160 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-12 18:13:40,726 - aiogram.event - INFO - Update id=896812630 is handled. Duration 453 ms by bot id=8026201833
2025-11-12 18:13:45,364 - aiogram.event - INFO - Update id=896812631 is handled. Duration 156 ms by bot id=8026201833
2025-11-12 18:13:47,992 - aiogram.event - INFO - Update id=896812632 is handled. Duration 375 ms by bot id=8026201833
2025-11-12 18:13:49,348 - aiogram.event - INFO - Update id=896812633 is handled. Duration 235 ms by bot id=8026201833
2025-11-12 18:13:58,591 - aiogram.dispatcher - INFO - Polling stopped
2025-11-12 18:13:58,858 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-12 18:13:58,859 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-12 18:14:37,104 - __main__ - INFO - Инициализация базы данных...
2025-11-12 18:14:37,322 - __main__ - INFO - База данных инициализирована успешно
2025-11-12 18:14:37,465 - __main__ - WARNING - Не удалось отправить уведомление админу 1172430615: Telegram server says - Forbidden: bot was blocked by the user
2025-11-12 18:14:37,465 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-12 18:14:37,466 - aiogram.dispatcher - INFO - Start polling
2025-11-12 18:14:37,557 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-12 18:14:44,390 - aiogram.event - INFO - Update id=896812634 is handled. Duration 390 ms by bot id=8026201833
2025-11-12 18:14:50,748 - aiogram.event - INFO - Update id=896812635 is handled. Duration 140 ms by bot id=8026201833
2025-11-12 18:14:54,433 - aiogram.event - INFO - Update id=896812636 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 18:15:36,489 - aiogram.event - INFO - Update id=896812637 is handled. Duration 296 ms by bot id=8026201833
2025-11-12 18:15:39,406 - aiogram.event - INFO - Update id=896812638 is handled. Duration 156 ms by bot id=8026201833
2025-11-12 18:15:40,492 - aiogram.event - INFO - Update id=896812639 is handled. Duration 234 ms by bot id=8026201833
2025-11-12 18:15:41,706 - aiogram.event - INFO - Update id=896812640 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 18:15:42,813 - aiogram.event - INFO - Update id=896812641 is handled. Duration 235 ms by bot id=8026201833
2025-11-12 18:15:45,726 - aiogram.event - INFO - Update id=896812642 is handled. Duration 360 ms by bot id=8026201833
2025-11-12 18:15:46,421 - aiogram.event - INFO - Update id=896812643 is handled. Duration 140 ms by bot id=8026201833
2025-11-12 18:15:48,368 - aiogram.event - INFO - Update id=896812644 is handled. Duration 234 ms by bot id=8026201833
2025-11-12 18:15:50,438 - aiogram.event - INFO - Update id=896812645 is handled. Duration 531 ms by bot id=8026201833
2025-11-12 18:15:51,894 - aiogram.event - INFO - Update id=896812646 is handled. Duration 234 ms by bot id=8026201833
2025-11-12 18:15:52,921 - aiogram.event - INFO - Update id=896812647 is handled. Duration 344 ms by bot id=8026201833
2025-11-12 18:15:54,233 - aiogram.event - INFO - Update id=896812648 is handled. Duration 327 ms by bot id=8026201833
2025-11-12 18:15:55,373 - aiogram.event - INFO - Update id=896812649 is handled. Duration 530 ms by bot id=8026201833
2025-11-12 18:15:56,856 - aiogram.event - INFO - Update id=896812650 is handled. Duration 250 ms by bot id=8026201833
2025-11-12 18:15:57,821 - aiogram.event - INFO - Update id=896812651 is handled. Duration 250 ms by bot id=8026201833
2025-11-12 18:15:58,820 - aiogram.event - INFO - Update id=896812652 is handled. Duration 250 ms by bot id=8026201833
2025-11-12 18:15:59,772 - aiogram.event - INFO - Update id=896812653 is handled. Duration 234 ms by bot id=8026201833
2025-11-12 18:16:01,337 - aiogram.event - INFO - Update id=896812654 is handled. Duration 358 ms by bot id=8026201833
2025-11-12 18:16:02,461 - aiogram.event - INFO - Update id=896812655 is handled. Duration 343 ms by bot id=8026201833
2025-11-12 18:16:03,322 - aiogram.event - INFO - Update id=896812656 is handled. Duration 218 ms by bot id=8026201833
2025-11-12 18:16:04,678 - aiogram.event - INFO - Update id=896812657 is handled. Duration 94 ms by bot id=8026201833
2025-11-12 18:16:05,950 - aiogram.event - INFO - Update id=896812658 is handled. Duration 93 ms by bot id=8026201833
2025-11-12 18:16:09,367 - aiogram.event - INFO - Update id=896812659 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 18:16:11,223 - aiogram.event - INFO - Update id=896812660 is handled. Duration 219 ms by bot id=8026201833
2025-11-12 18:16:17,203 - aiogram.event - INFO - Update id=896812661 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 18:18:27,545 - aiogram.event - INFO - Update id=896812662 is handled. Duration 281 ms by bot id=8026201833
2025-11-12 18:18:28,230 - aiogram.event - INFO - Update id=896812663 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 18:18:29,328 - aiogram.event - INFO - Update id=896812664 is handled. Duration 139 ms by bot id=8026201833
2025-11-12 18:18:30,453 - aiogram.event - INFO - Update id=896812665 is handled. Duration 108 ms by bot id=8026201833
2025-11-12 18:18:31,594 - aiogram.event - INFO - Update id=896812666 is handled. Duration 141 ms by bot id=8026201833
2025-11-12 18:18:39,253 - aiogram.event - INFO - Update id=896812667 is handled. Duration 390 ms by bot id=8026201833
2025-11-12 18:18:43,310 - aiogram.event - INFO - Update id=896812668 is handled. Duration 203 ms by bot id=8026201833
2025-11-12 18:19:02,454 - aiogram.event - INFO - Update id=896812669 is handled. Duration 343 ms by bot id=8026201833
2025-11-12 18:19:04,654 - aiogram.event - INFO - Update id=896812670 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 18:19:19,283 - aiogram.dispatcher - INFO - Polling stopped
2025-11-12 18:19:19,553 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-12 18:19:19,553 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-12 18:58:08,571 - __main__ - INFO - Инициализация базы данных...
2025-11-12 18:58:08,874 - __main__ - INFO - База данных инициализирована успешно
2025-11-12 18:58:09,013 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-12 18:58:09,014 - aiogram.dispatcher - INFO - Start polling
2025-11-12 18:58:09,087 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-12 18:58:09,666 - aiogram.event - INFO - Update id=896812673 is handled. Duration 453 ms by bot id=8026201833
2025-11-12 18:58:09,701 - aiogram.event - INFO - Update id=896812671 is handled. Duration 514 ms by bot id=8026201833
2025-11-12 18:58:12,013 - aiogram.event - INFO - Update id=896812672 is handled. Duration 2827 ms by bot id=8026201833
2025-11-12 18:58:47,035 - aiogram.event - INFO - Update id=896812674 is handled. Duration 406 ms by bot id=8026201833
2025-11-12 18:58:48,596 - aiogram.event - INFO - Update id=896812675 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 18:59:03,008 - aiogram.event - INFO - Update id=896812676 is handled. Duration 93 ms by bot id=8026201833
2025-11-12 18:59:25,234 - aiogram.event - INFO - Update id=896812677 is handled. Duration 421 ms by bot id=8026201833
2025-11-12 18:59:59,719 - aiogram.event - INFO - Update id=896812678 is handled. Duration 2672 ms by bot id=8026201833
2025-11-12 19:00:05,973 - aiogram.event - INFO - Update id=896812679 is handled. Duration 453 ms by bot id=8026201833
2025-11-12 19:00:09,551 - aiogram.event - INFO - Update id=896812680 is handled. Duration 609 ms by bot id=8026201833
2025-11-12 19:00:12,305 - aiogram.event - INFO - Update id=896812681 is handled. Duration 702 ms by bot id=8026201833
2025-11-12 19:00:13,852 - aiogram.event - INFO - Update id=896812682 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 19:00:18,461 - aiogram.event - INFO - Update id=896812683 is handled. Duration 811 ms by bot id=8026201833
2025-11-12 19:00:19,778 - aiogram.event - INFO - Update id=896812684 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 19:00:22,677 - aiogram.event - INFO - Update id=896812685 is handled. Duration 327 ms by bot id=8026201833
2025-11-12 19:00:24,605 - aiogram.event - INFO - Update id=896812686 is handled. Duration 327 ms by bot id=8026201833
2025-11-12 19:00:27,661 - aiogram.event - INFO - Update id=896812687 is handled. Duration 203 ms by bot id=8026201833
2025-11-12 19:00:29,703 - aiogram.event - INFO - Update id=896812688 is handled. Duration 311 ms by bot id=8026201833
2025-11-12 19:00:31,048 - aiogram.event - INFO - Update id=896812689 is handled. Duration 219 ms by bot id=8026201833
2025-11-12 19:00:33,214 - aiogram.event - INFO - Update id=896812690 is handled. Duration 141 ms by bot id=8026201833
2025-11-12 19:00:34,935 - aiogram.event - INFO - Update id=896812691 is handled. Duration 328 ms by bot id=8026201833
2025-11-12 19:00:36,355 - aiogram.event - INFO - Update id=896812692 is handled. Duration 311 ms by bot id=8026201833
2025-11-12 19:00:37,383 - aiogram.event - INFO - Update id=896812693 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 19:00:39,321 - aiogram.event - INFO - Update id=896812694 is handled. Duration 390 ms by bot id=8026201833
2025-11-12 19:00:40,858 - aiogram.event - INFO - Update id=896812695 is handled. Duration 296 ms by bot id=8026201833
2025-11-12 19:00:42,397 - aiogram.event - INFO - Update id=896812696 is handled. Duration 296 ms by bot id=8026201833
2025-11-12 19:00:45,473 - aiogram.event - INFO - Update id=896812697 is handled. Duration 719 ms by bot id=8026201833
2025-11-12 19:00:50,897 - aiogram.event - INFO - Update id=896812698 is handled. Duration 313 ms by bot id=8026201833
2025-11-12 19:00:53,777 - aiogram.event - INFO - Update id=896812699 is handled. Duration 422 ms by bot id=8026201833
2025-11-12 19:00:57,230 - aiogram.event - INFO - Update id=896812700 is handled. Duration 1125 ms by bot id=8026201833
2025-11-12 19:01:00,685 - aiogram.event - INFO - Update id=896812701 is handled. Duration 188 ms by bot id=8026201833
2025-11-12 19:01:03,180 - aiogram.event - INFO - Update id=896812702 is handled. Duration 406 ms by bot id=8026201833
2025-11-12 19:01:05,233 - aiogram.event - INFO - Update id=896812703 is handled. Duration 531 ms by bot id=8026201833
2025-11-12 19:01:06,543 - aiogram.event - INFO - Update id=896812704 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 19:01:09,615 - aiogram.event - INFO - Update id=896812705 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 19:01:12,073 - aiogram.event - INFO - Update id=896812706 is handled. Duration 203 ms by bot id=8026201833
2025-11-12 19:01:15,859 - aiogram.event - INFO - Update id=896812707 is handled. Duration 406 ms by bot id=8026201833
2025-11-12 19:01:17,697 - aiogram.event - INFO - Update id=896812708 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 19:01:18,829 - aiogram.event - INFO - Update id=896812709 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 19:01:21,108 - aiogram.event - INFO - Update id=896812710 is handled. Duration 139 ms by bot id=8026201833
2025-11-12 19:01:22,406 - aiogram.event - INFO - Update id=896812711 is handled. Duration 203 ms by bot id=8026201833
2025-11-12 19:01:24,049 - aiogram.event - INFO - Update id=896812712 is handled. Duration 609 ms by bot id=8026201833
2025-11-12 19:01:25,373 - aiogram.event - INFO - Update id=896812713 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 19:01:26,400 - aiogram.event - INFO - Update id=896812714 is handled. Duration 188 ms by bot id=8026201833
2025-11-12 19:01:30,596 - aiogram.event - INFO - Update id=896812715 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 19:01:31,919 - aiogram.event - INFO - Update id=896812716 is handled. Duration 406 ms by bot id=8026201833
2025-11-12 19:01:33,464 - aiogram.event - INFO - Update id=896812717 is handled. Duration 625 ms by bot id=8026201833
2025-11-12 19:01:40,938 - aiogram.event - INFO - Update id=896812718 is handled. Duration 218 ms by bot id=8026201833
2025-11-12 19:01:43,998 - aiogram.event - INFO - Update id=896812719 is handled. Duration 609 ms by bot id=8026201833
2025-11-12 19:01:46,555 - aiogram.event - INFO - Update id=896812720 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 19:01:47,991 - aiogram.event - INFO - Update id=896812721 is handled. Duration 311 ms by bot id=8026201833
2025-11-12 19:01:49,348 - aiogram.event - INFO - Update id=896812722 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 19:01:52,289 - aiogram.event - INFO - Update id=896812723 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 19:01:55,901 - aiogram.event - INFO - Update id=896812724 is handled. Duration 313 ms by bot id=8026201833
2025-11-12 19:01:57,197 - aiogram.event - INFO - Update id=896812725 is handled. Duration 188 ms by bot id=8026201833
2025-11-12 19:01:58,844 - aiogram.event - INFO - Update id=896812726 is handled. Duration 219 ms by bot id=8026201833
2025-11-12 19:02:04,973 - aiogram.event - INFO - Update id=896812727 is handled. Duration 485 ms by bot id=8026201833
2025-11-12 19:02:07,236 - aiogram.event - INFO - Update id=896812728 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 19:02:09,174 - aiogram.event - INFO - Update id=896812729 is handled. Duration 406 ms by bot id=8026201833
2025-11-12 19:02:10,505 - aiogram.event - INFO - Update id=896812730 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 19:02:12,046 - aiogram.event - INFO - Update id=896812731 is handled. Duration 422 ms by bot id=8026201833
2025-11-12 19:02:13,268 - aiogram.event - INFO - Update id=896812732 is handled. Duration 313 ms by bot id=8026201833
2025-11-12 19:02:14,457 - aiogram.event - INFO - Update id=896812733 is handled. Duration 155 ms by bot id=8026201833
2025-11-12 19:02:16,844 - aiogram.event - INFO - Update id=896812734 is handled. Duration 610 ms by bot id=8026201833
2025-11-12 19:02:18,280 - aiogram.event - INFO - Update id=896812735 is handled. Duration 515 ms by bot id=8026201833
2025-11-12 19:02:19,618 - aiogram.event - INFO - Update id=896812736 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 19:02:20,549 - aiogram.event - INFO - Update id=896812737 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 19:02:23,809 - aiogram.event - INFO - Update id=896812738 is handled. Duration 422 ms by bot id=8026201833
2025-11-12 19:02:25,449 - aiogram.event - INFO - Update id=896812739 is handled. Duration 514 ms by bot id=8026201833
2025-11-12 19:02:29,233 - aiogram.event - INFO - Update id=896812740 is handled. Duration 2968 ms by bot id=8026201833
2025-11-12 19:02:31,684 - aiogram.event - INFO - Update id=896812741 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 19:02:32,743 - aiogram.event - INFO - Update id=896812742 is handled. Duration 234 ms by bot id=8026201833
2025-11-12 19:02:37,653 - aiogram.event - INFO - Update id=896812743 is handled. Duration 250 ms by bot id=8026201833
2025-11-12 19:02:47,457 - aiogram.event - INFO - Update id=896812744 is handled. Duration 311 ms by bot id=8026201833
2025-11-12 19:02:49,905 - aiogram.event - INFO - Update id=896812745 is handled. Duration 406 ms by bot id=8026201833
2025-11-12 19:02:52,354 - aiogram.event - INFO - Update id=896812746 is handled. Duration 514 ms by bot id=8026201833
2025-11-12 19:02:55,242 - aiogram.event - INFO - Update id=896812747 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 19:02:57,369 - aiogram.event - INFO - Update id=896812748 is handled. Duration 296 ms by bot id=8026201833
2025-11-12 19:03:16,508 - aiogram.event - INFO - Update id=896812749 is handled. Duration 609 ms by bot id=8026201833
2025-11-12 19:03:20,290 - aiogram.event - INFO - Update id=896812750 is handled. Duration 265 ms by bot id=8026201833
2025-11-12 19:03:25,826 - aiogram.event - INFO - Update id=896812751 is handled. Duration 218 ms by bot id=8026201833
2025-11-12 19:03:30,987 - aiogram.event - INFO - Update id=896812752 is handled. Duration 484 ms by bot id=8026201833
2025-11-12 19:03:49,904 - aiogram.event - INFO - Update id=896812754 is handled. Duration 390 ms by bot id=8026201833
2025-11-12 19:03:50,185 - aiogram.event - INFO - Update id=896812753 is handled. Duration 4218 ms by bot id=8026201833
2025-11-12 19:03:59,883 - aiogram.event - INFO - Update id=896812755 is handled. Duration 280 ms by bot id=8026201833
2025-11-12 19:04:03,275 - aiogram.event - INFO - Update id=896812756 is handled. Duration 1313 ms by bot id=8026201833
2025-11-12 19:04:08,834 - aiogram.event - INFO - Update id=896812757 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 19:04:17,129 - aiogram.event - INFO - Update id=896812758 is handled. Duration 436 ms by bot id=8026201833
2025-11-12 19:04:24,865 - aiogram.event - INFO - Update id=896812759 is handled. Duration 593 ms by bot id=8026201833
2025-11-12 19:04:25,606 - aiogram.event - INFO - Update id=896812760 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 19:04:28,989 - aiogram.event - INFO - Update id=896812761 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 19:04:33,355 - aiogram.event - INFO - Update id=896812762 is handled. Duration 296 ms by bot id=8026201833
2025-11-12 19:04:35,713 - aiogram.event - INFO - Update id=896812763 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 19:04:45,779 - aiogram.event - INFO - Update id=896812766 is not handled. Duration 343 ms by bot id=8026201833
2025-11-12 19:04:45,780 - aiogram.event - ERROR - Cause exception while process update id=896812766 by bot id=8026201833
TelegramBadRequest: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\admin.py", line 402, in show_admin_order_details
    await callback.message.edit_text(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 179, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-11-12 19:04:45,819 - aiogram.event - INFO - Update id=896812765 is handled. Duration 485 ms by bot id=8026201833
2025-11-12 19:04:46,049 - aiogram.event - INFO - Update id=896812767 is not handled. Duration 406 ms by bot id=8026201833
2025-11-12 19:04:46,050 - aiogram.event - ERROR - Cause exception while process update id=896812767 by bot id=8026201833
TelegramBadRequest: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\admin.py", line 402, in show_admin_order_details
    await callback.message.edit_text(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 179, in make_request
    response = self.check_response(
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 120, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-11-12 19:04:48,200 - aiogram.event - INFO - Update id=896812768 is handled. Duration 514 ms by bot id=8026201833
2025-11-12 19:04:50,372 - aiogram.event - INFO - Update id=896812769 is handled. Duration 422 ms by bot id=8026201833
2025-11-12 19:04:57,339 - aiogram.event - INFO - Update id=896812764 is not handled. Duration 19155 ms by bot id=8026201833
2025-11-12 19:04:57,339 - aiogram.event - ERROR - Cause exception while process update id=896812764 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\admin.py", line 402, in show_admin_order_details
    await callback.message.edit_text(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-12 19:53:54,250 - __main__ - INFO - Инициализация базы данных...
2025-11-12 19:53:54,726 - __main__ - INFO - База данных инициализирована успешно
2025-11-12 19:53:54,965 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-12 19:53:54,965 - aiogram.dispatcher - INFO - Start polling
2025-11-12 19:53:55,154 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-12 19:53:56,224 - aiogram.event - INFO - Update id=896812770 is handled. Duration 891 ms by bot id=8026201833
2025-11-12 19:54:17,471 - aiogram.event - INFO - Update id=896812771 is handled. Duration 406 ms by bot id=8026201833
2025-11-12 19:56:23,130 - aiogram.event - INFO - Update id=896812772 is handled. Duration 516 ms by bot id=8026201833
2025-11-12 19:56:45,138 - aiogram.event - INFO - Update id=896812773 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 19:57:01,097 - aiogram.event - INFO - Update id=896812774 is handled. Duration 406 ms by bot id=8026201833
2025-11-12 19:57:18,178 - aiogram.event - INFO - Update id=896812775 is handled. Duration 390 ms by bot id=8026201833
2025-11-12 19:57:28,009 - aiogram.event - INFO - Update id=896812776 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 19:57:49,002 - aiogram.event - INFO - Update id=896812777 is handled. Duration 328 ms by bot id=8026201833
2025-11-12 19:59:18,705 - aiogram.event - INFO - Update id=896812778 is handled. Duration 2312 ms by bot id=8026201833
2025-11-12 19:59:26,504 - aiogram.event - INFO - Update id=896812779 is handled. Duration 234 ms by bot id=8026201833
2025-11-12 19:59:31,817 - aiogram.event - INFO - Update id=896812780 is handled. Duration 406 ms by bot id=8026201833
2025-11-12 19:59:54,167 - aiogram.event - INFO - Update id=896812781 is handled. Duration 1156 ms by bot id=8026201833
2025-11-12 20:00:12,988 - aiogram.event - INFO - Update id=896812782 is handled. Duration 858 ms by bot id=8026201833
2025-11-12 20:00:18,712 - aiogram.event - INFO - Update id=896812783 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:00:20,673 - aiogram.event - INFO - Update id=896812784 is handled. Duration 327 ms by bot id=8026201833
2025-11-12 20:00:24,232 - aiogram.event - INFO - Update id=896812785 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:00:29,960 - aiogram.event - INFO - Update id=896812786 is handled. Duration 93 ms by bot id=8026201833
2025-11-12 20:00:49,828 - aiogram.event - INFO - Update id=896812787 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:00:52,475 - aiogram.event - INFO - Update id=896812788 is handled. Duration 390 ms by bot id=8026201833
2025-11-12 20:00:54,654 - aiogram.event - INFO - Update id=896812789 is handled. Duration 421 ms by bot id=8026201833
2025-11-12 20:00:56,179 - aiogram.event - INFO - Update id=896812790 is handled. Duration 422 ms by bot id=8026201833
2025-11-12 20:01:15,612 - aiogram.event - INFO - Update id=896812791 is handled. Duration 828 ms by bot id=8026201833
2025-11-12 20:01:18,113 - aiogram.event - INFO - Update id=896812792 is handled. Duration 156 ms by bot id=8026201833
2025-11-12 20:01:21,514 - aiogram.event - INFO - Update id=896812793 is handled. Duration 172 ms by bot id=8026201833
2025-11-12 20:01:28,396 - aiogram.event - INFO - Update id=896812794 is handled. Duration 610 ms by bot id=8026201833
2025-11-12 20:01:30,036 - aiogram.event - INFO - Update id=896812795 is handled. Duration 296 ms by bot id=8026201833
2025-11-12 20:01:31,869 - aiogram.event - INFO - Update id=896812796 is handled. Duration 296 ms by bot id=8026201833
2025-11-12 20:01:34,478 - aiogram.event - INFO - Update id=896812797 is handled. Duration 343 ms by bot id=8026201833
2025-11-12 20:01:37,911 - aiogram.event - INFO - Update id=896812798 is handled. Duration 812 ms by bot id=8026201833
2025-11-12 20:01:39,352 - aiogram.event - INFO - Update id=896812799 is handled. Duration 405 ms by bot id=8026201833
2025-11-12 20:01:41,419 - aiogram.event - INFO - Update id=896812800 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 20:01:43,339 - aiogram.event - INFO - Update id=896812801 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:01:44,674 - aiogram.event - INFO - Update id=896812802 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 20:01:45,816 - aiogram.event - INFO - Update id=896812803 is handled. Duration 250 ms by bot id=8026201833
2025-11-12 20:01:47,158 - aiogram.event - INFO - Update id=896812804 is handled. Duration 342 ms by bot id=8026201833
2025-11-12 20:01:48,878 - aiogram.event - INFO - Update id=896812805 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 20:01:50,723 - aiogram.event - INFO - Update id=896812806 is handled. Duration 327 ms by bot id=8026201833
2025-11-12 20:01:51,742 - aiogram.event - INFO - Update id=896812807 is handled. Duration 609 ms by bot id=8026201833
2025-11-12 20:01:52,657 - aiogram.event - INFO - Update id=896812808 is handled. Duration 421 ms by bot id=8026201833
2025-11-12 20:02:06,677 - aiogram.event - INFO - Update id=896812809 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 20:02:08,612 - aiogram.event - INFO - Update id=896812810 is handled. Duration 296 ms by bot id=8026201833
2025-11-12 20:02:10,258 - aiogram.event - INFO - Update id=896812811 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 20:02:11,890 - aiogram.event - INFO - Update id=896812812 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 20:02:14,143 - aiogram.event - INFO - Update id=896812813 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 20:02:15,583 - aiogram.event - INFO - Update id=896812814 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 20:02:17,761 - aiogram.event - INFO - Update id=896812815 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 20:02:19,575 - aiogram.event - INFO - Update id=896812816 is handled. Duration 327 ms by bot id=8026201833
2025-11-12 20:02:21,511 - aiogram.event - INFO - Update id=896812817 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:02:23,565 - aiogram.event - INFO - Update id=896812818 is handled. Duration 110 ms by bot id=8026201833
2025-11-12 20:02:25,196 - aiogram.event - INFO - Update id=896812819 is handled. Duration 203 ms by bot id=8026201833
2025-11-12 20:02:26,834 - aiogram.event - INFO - Update id=896812820 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 20:02:28,878 - aiogram.event - INFO - Update id=896812821 is handled. Duration 609 ms by bot id=8026201833
2025-11-12 20:02:30,165 - aiogram.event - INFO - Update id=896812822 is handled. Duration 437 ms by bot id=8026201833
2025-11-12 20:02:31,542 - aiogram.event - INFO - Update id=896812823 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:02:37,787 - aiogram.event - INFO - Update id=896812824 is handled. Duration 296 ms by bot id=8026201833
2025-11-12 20:02:40,684 - aiogram.event - INFO - Update id=896812825 is handled. Duration 140 ms by bot id=8026201833
2025-11-12 20:02:42,492 - aiogram.event - INFO - Update id=896812826 is handled. Duration 296 ms by bot id=8026201833
2025-11-12 20:02:43,728 - aiogram.event - INFO - Update id=896812827 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:02:44,716 - aiogram.event - INFO - Update id=896812828 is handled. Duration 280 ms by bot id=8026201833
2025-11-12 20:02:46,392 - aiogram.event - INFO - Update id=896812829 is handled. Duration 265 ms by bot id=8026201833
2025-11-12 20:02:47,724 - aiogram.event - INFO - Update id=896812830 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:02:48,634 - aiogram.event - INFO - Update id=896812831 is handled. Duration 187 ms by bot id=8026201833
2025-11-12 20:02:50,171 - aiogram.event - INFO - Update id=896812832 is handled. Duration 281 ms by bot id=8026201833
2025-11-12 20:02:51,597 - aiogram.event - INFO - Update id=896812833 is handled. Duration 405 ms by bot id=8026201833
2025-11-12 20:02:52,927 - aiogram.event - INFO - Update id=896812834 is handled. Duration 203 ms by bot id=8026201833
2025-11-12 20:02:54,463 - aiogram.event - INFO - Update id=896812835 is handled. Duration 187 ms by bot id=8026201833
2025-11-12 20:02:56,406 - aiogram.event - INFO - Update id=896812836 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:02:57,948 - aiogram.event - INFO - Update id=896812837 is handled. Duration 500 ms by bot id=8026201833
2025-11-12 20:03:02,015 - aiogram.event - INFO - Update id=896812838 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 20:03:04,267 - aiogram.event - INFO - Update id=896812839 is handled. Duration 218 ms by bot id=8026201833
2025-11-12 20:03:08,230 - aiogram.event - INFO - Update id=896812840 is handled. Duration 281 ms by bot id=8026201833
2025-11-12 20:03:10,582 - aiogram.event - INFO - Update id=896812841 is handled. Duration 172 ms by bot id=8026201833
2025-11-12 20:03:11,347 - aiogram.event - INFO - Update id=896812842 is handled. Duration 718 ms by bot id=8026201833
2025-11-12 20:03:13,698 - aiogram.event - INFO - Update id=896812843 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 20:03:15,860 - aiogram.event - INFO - Update id=896812844 is handled. Duration 328 ms by bot id=8026201833
2025-11-12 20:03:24,757 - aiogram.event - INFO - Update id=896812845 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 20:03:34,377 - aiogram.event - INFO - Update id=896812846 is handled. Duration 515 ms by bot id=8026201833
2025-11-12 20:03:35,906 - aiogram.event - INFO - Update id=896812847 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:03:38,375 - aiogram.event - INFO - Update id=896812848 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:03:41,638 - aiogram.event - INFO - Update id=896812849 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 20:03:52,595 - aiogram.event - INFO - Update id=896812850 is handled. Duration 296 ms by bot id=8026201833
2025-11-12 20:03:54,648 - aiogram.event - INFO - Update id=896812851 is handled. Duration 406 ms by bot id=8026201833
2025-11-12 20:03:56,139 - aiogram.event - INFO - Update id=896812852 is handled. Duration 172 ms by bot id=8026201833
2025-11-12 20:03:58,425 - aiogram.event - INFO - Update id=896812853 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:04:02,524 - aiogram.event - INFO - Update id=896812854 is handled. Duration 110 ms by bot id=8026201833
2025-11-12 20:04:05,028 - aiogram.event - INFO - Update id=896812855 is handled. Duration 155 ms by bot id=8026201833
2025-11-12 20:04:07,249 - aiogram.event - INFO - Update id=896812856 is handled. Duration 500 ms by bot id=8026201833
2025-11-12 20:04:09,682 - aiogram.event - INFO - Update id=896812857 is handled. Duration 532 ms by bot id=8026201833
2025-11-12 20:04:11,207 - aiogram.event - INFO - Update id=896812858 is handled. Duration 93 ms by bot id=8026201833
2025-11-12 20:04:12,630 - aiogram.event - INFO - Update id=896812859 is handled. Duration 94 ms by bot id=8026201833
2025-11-12 20:04:14,284 - aiogram.event - INFO - Update id=896812860 is handled. Duration 296 ms by bot id=8026201833
2025-11-12 20:04:15,712 - aiogram.event - INFO - Update id=896812861 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 20:04:17,132 - aiogram.event - INFO - Update id=896812862 is handled. Duration 187 ms by bot id=8026201833
2025-11-12 20:04:17,259 - aiogram.event - INFO - Update id=896812863 is handled. Duration 94 ms by bot id=8026201833
2025-11-12 20:04:17,782 - aiogram.event - INFO - Update id=896812864 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 20:04:20,289 - aiogram.event - INFO - Update id=896812865 is handled. Duration 514 ms by bot id=8026201833
2025-11-12 20:04:21,273 - aiogram.event - INFO - Update id=896812866 is handled. Duration 140 ms by bot id=8026201833
2025-11-12 20:04:23,606 - aiogram.event - INFO - Update id=896812867 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:04:25,285 - aiogram.event - INFO - Update id=896812868 is handled. Duration 155 ms by bot id=8026201833
2025-11-12 20:04:27,072 - aiogram.event - INFO - Update id=896812869 is handled. Duration 405 ms by bot id=8026201833
2025-11-12 20:04:28,300 - aiogram.event - INFO - Update id=896812870 is handled. Duration 500 ms by bot id=8026201833
2025-11-12 20:04:29,327 - aiogram.event - INFO - Update id=896812871 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 20:04:30,760 - aiogram.event - INFO - Update id=896812872 is handled. Duration 110 ms by bot id=8026201833
2025-11-12 20:04:32,395 - aiogram.event - INFO - Update id=896812873 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:04:33,931 - aiogram.event - INFO - Update id=896812874 is handled. Duration 94 ms by bot id=8026201833
2025-11-12 20:04:35,670 - aiogram.event - INFO - Update id=896812875 is handled. Duration 500 ms by bot id=8026201833
2025-11-12 20:04:37,352 - aiogram.event - INFO - Update id=896812876 is handled. Duration 343 ms by bot id=8026201833
2025-11-12 20:04:41,195 - aiogram.event - INFO - Update id=896812877 is handled. Duration 610 ms by bot id=8026201833
2025-11-12 20:04:42,845 - aiogram.event - INFO - Update id=896812878 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 20:04:43,143 - aiogram.event - INFO - Update id=896812879 is handled. Duration 343 ms by bot id=8026201833
2025-11-12 20:04:43,256 - aiogram.event - INFO - Update id=896812880 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 20:04:45,204 - aiogram.event - INFO - Update id=896812881 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 20:04:47,117 - aiogram.event - INFO - Update id=896812882 is handled. Duration 171 ms by bot id=8026201833
2025-11-12 20:05:08,109 - aiogram.event - INFO - Update id=896812883 is handled. Duration 609 ms by bot id=8026201833
2025-11-12 20:05:24,509 - aiogram.event - INFO - Update id=896812884 is handled. Duration 422 ms by bot id=8026201833
2025-11-12 20:05:32,973 - aiogram.event - INFO - Update id=896812885 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:05:42,896 - aiogram.event - INFO - Update id=896812886 is handled. Duration 343 ms by bot id=8026201833
2025-11-12 20:05:48,650 - aiogram.event - INFO - Update id=896812887 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:05:50,678 - aiogram.event - INFO - Update id=896812888 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:06:03,468 - aiogram.event - INFO - Update id=896812889 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:06:04,905 - aiogram.event - INFO - Update id=896812890 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 20:06:07,568 - aiogram.event - INFO - Update id=896812891 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:06:54,943 - aiogram.event - INFO - Update id=896812892 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 20:06:57,502 - aiogram.event - INFO - Update id=896812893 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 20:07:07,114 - aiogram.event - INFO - Update id=896812894 is handled. Duration 203 ms by bot id=8026201833
2025-11-12 20:07:17,661 - aiogram.event - INFO - Update id=896812895 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 20:07:19,861 - aiogram.event - INFO - Update id=896812896 is handled. Duration 453 ms by bot id=8026201833
2025-11-12 20:07:46,212 - aiogram.event - INFO - Update id=896812897 is handled. Duration 812 ms by bot id=8026201833
2025-11-12 20:07:49,395 - aiogram.event - INFO - Update id=896812898 is handled. Duration 110 ms by bot id=8026201833
2025-11-12 20:07:50,715 - aiogram.event - INFO - Update id=896812899 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 20:08:00,334 - aiogram.event - INFO - Update id=896812900 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 20:08:03,610 - aiogram.event - INFO - Update id=896812901 is handled. Duration 406 ms by bot id=8026201833
2025-11-12 20:08:05,759 - aiogram.event - INFO - Update id=896812902 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 20:08:12,000 - aiogram.event - INFO - Update id=896812903 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 20:08:22,028 - aiogram.event - INFO - Update id=896812904 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 20:08:33,482 - aiogram.event - INFO - Update id=896812905 is handled. Duration 1218 ms by bot id=8026201833
2025-11-12 20:08:38,105 - aiogram.event - INFO - Update id=896812906 is handled. Duration 328 ms by bot id=8026201833
2025-11-12 20:08:43,007 - aiogram.event - INFO - Update id=896812907 is handled. Duration 500 ms by bot id=8026201833
2025-11-12 20:08:54,390 - aiogram.event - INFO - Update id=896812908 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 20:08:56,316 - aiogram.event - INFO - Update id=896812909 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:08:57,945 - aiogram.event - INFO - Update id=896812910 is handled. Duration 407 ms by bot id=8026201833
2025-11-12 20:09:00,941 - aiogram.event - INFO - Update id=896812911 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 20:09:02,890 - aiogram.event - INFO - Update id=896812912 is handled. Duration 344 ms by bot id=8026201833
2025-11-12 20:09:04,700 - aiogram.event - INFO - Update id=896812913 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:09:06,953 - aiogram.event - INFO - Update id=896812914 is handled. Duration 828 ms by bot id=8026201833
2025-11-12 20:09:15,613 - aiogram.event - INFO - Update id=896812915 is handled. Duration 468 ms by bot id=8026201833
2025-11-12 20:09:18,617 - aiogram.event - INFO - Update id=896812916 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:09:20,052 - aiogram.event - INFO - Update id=896812917 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 20:09:21,485 - aiogram.event - INFO - Update id=896812918 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:09:29,670 - aiogram.event - INFO - Update id=896812919 is handled. Duration 405 ms by bot id=8026201833
2025-11-12 20:09:34,585 - aiogram.event - INFO - Update id=896812920 is handled. Duration 515 ms by bot id=8026201833
2025-11-12 20:09:37,994 - aiogram.event - INFO - Update id=896812921 is handled. Duration 140 ms by bot id=8026201833
2025-11-12 20:09:38,904 - aiogram.event - INFO - Update id=896812922 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 20:09:40,926 - aiogram.event - INFO - Update id=896812923 is handled. Duration 405 ms by bot id=8026201833
2025-11-12 20:09:42,773 - aiogram.event - INFO - Update id=896812924 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 20:09:45,120 - aiogram.event - INFO - Update id=896812925 is handled. Duration 421 ms by bot id=8026201833
2025-11-12 20:09:46,036 - aiogram.event - INFO - Update id=896812926 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 20:09:47,475 - aiogram.event - INFO - Update id=896812927 is handled. Duration 405 ms by bot id=8026201833
2025-11-12 20:09:49,727 - aiogram.event - INFO - Update id=896812928 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 20:09:52,505 - aiogram.event - INFO - Update id=896812929 is handled. Duration 108 ms by bot id=8026201833
2025-11-12 20:09:54,639 - aiogram.event - INFO - Update id=896812930 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:10:06,918 - aiogram.event - INFO - Update id=896812931 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:10:22,160 - aiogram.event - INFO - Update id=896812932 is handled. Duration 422 ms by bot id=8026201833
2025-11-12 20:10:27,481 - aiogram.event - INFO - Update id=896812933 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:10:31,905 - aiogram.event - INFO - Update id=896812934 is handled. Duration 390 ms by bot id=8026201833
2025-11-12 20:10:40,617 - aiogram.event - INFO - Update id=896812935 is handled. Duration 327 ms by bot id=8026201833
2025-11-12 20:10:42,536 - aiogram.event - INFO - Update id=896812936 is handled. Duration 718 ms by bot id=8026201833
2025-11-12 20:10:46,797 - aiogram.event - INFO - Update id=896812937 is handled. Duration 452 ms by bot id=8026201833
2025-11-12 20:10:51,945 - aiogram.event - INFO - Update id=896812938 is handled. Duration 203 ms by bot id=8026201833
2025-11-12 20:11:05,045 - aiogram.event - INFO - Update id=896812939 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 20:11:11,532 - aiogram.event - INFO - Update id=896812940 is handled. Duration 250 ms by bot id=8026201833
2025-11-12 20:11:18,333 - aiogram.event - INFO - Update id=896812941 is handled. Duration 219 ms by bot id=8026201833
2025-11-12 20:11:23,966 - aiogram.event - INFO - Update id=896812942 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 20:11:36,273 - aiogram.event - INFO - Update id=896812943 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 20:11:44,044 - aiogram.event - INFO - Update id=896812944 is handled. Duration 218 ms by bot id=8026201833
2025-11-12 20:11:52,528 - aiogram.event - INFO - Update id=896812945 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:11:58,362 - aiogram.event - INFO - Update id=896812946 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:12:04,908 - aiogram.event - INFO - Update id=896812947 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 20:12:08,803 - aiogram.event - INFO - Update id=896812948 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:12:14,743 - aiogram.event - INFO - Update id=896812949 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 20:12:20,151 - aiogram.event - INFO - Update id=896812950 is handled. Duration 515 ms by bot id=8026201833
2025-11-12 20:12:48,923 - aiogram.event - INFO - Update id=896812951 is handled. Duration 422 ms by bot id=8026201833
2025-11-12 20:12:50,247 - aiogram.event - INFO - Update id=896812952 is handled. Duration 108 ms by bot id=8026201833
2025-11-12 20:12:52,921 - aiogram.event - INFO - Update id=896812953 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 20:13:00,782 - aiogram.event - INFO - Update id=896812954 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 20:13:03,030 - aiogram.event - INFO - Update id=896812955 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:13:07,023 - aiogram.event - INFO - Update id=896812956 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 20:13:10,914 - aiogram.event - INFO - Update id=896812957 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 20:13:13,978 - aiogram.event - INFO - Update id=896812958 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 20:13:44,870 - aiogram.event - INFO - Update id=896812959 is handled. Duration 500 ms by bot id=8026201833
2025-11-12 20:13:49,296 - aiogram.event - INFO - Update id=896812960 is handled. Duration 155 ms by bot id=8026201833
2025-11-12 20:13:58,792 - aiogram.event - INFO - Update id=896812961 is handled. Duration 297 ms by bot id=8026201833
2025-11-12 20:14:11,717 - aiogram.event - INFO - Update id=896812962 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 20:14:42,091 - aiogram.event - INFO - Update id=896812963 is handled. Duration 405 ms by bot id=8026201833
2025-11-12 20:14:49,665 - aiogram.event - INFO - Update id=896812964 is handled. Duration 156 ms by bot id=8026201833
2025-11-12 20:15:06,668 - aiogram.event - INFO - Update id=896812965 is handled. Duration 327 ms by bot id=8026201833
2025-11-12 20:15:26,297 - aiogram.event - INFO - Update id=896812966 is handled. Duration 672 ms by bot id=8026201833
2025-11-12 20:15:35,203 - aiogram.event - INFO - Update id=896812967 is handled. Duration 281 ms by bot id=8026201833
2025-11-12 20:16:08,172 - aiogram.event - INFO - Update id=896812968 is handled. Duration 437 ms by bot id=8026201833
2025-11-12 20:16:22,534 - aiogram.event - INFO - Update id=896812969 is handled. Duration 156 ms by bot id=8026201833
2025-11-12 20:16:47,551 - aiogram.event - INFO - Update id=896812970 is handled. Duration 812 ms by bot id=8026201833
2025-11-12 20:16:52,792 - aiogram.event - INFO - Update id=896812971 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 20:16:56,862 - aiogram.event - INFO - Update id=896812972 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 20:16:58,708 - aiogram.event - INFO - Update id=896812973 is handled. Duration 609 ms by bot id=8026201833
2025-11-12 20:17:04,639 - aiogram.event - INFO - Update id=896812974 is handled. Duration 406 ms by bot id=8026201833
2025-11-12 20:17:06,379 - aiogram.event - INFO - Update id=896812975 is handled. Duration 625 ms by bot id=8026201833
2025-11-12 20:17:52,440 - aiogram.event - INFO - Update id=896812976 is handled. Duration 594 ms by bot id=8026201833
2025-11-12 20:17:54,231 - aiogram.event - INFO - Update id=896812977 is handled. Duration 187 ms by bot id=8026201833
2025-11-12 20:17:57,136 - aiogram.event - INFO - Update id=896812978 is handled. Duration 469 ms by bot id=8026201833
2025-11-12 20:17:59,116 - aiogram.event - INFO - Update id=896812979 is handled. Duration 437 ms by bot id=8026201833
2025-11-12 20:18:01,025 - aiogram.event - INFO - Update id=896812980 is handled. Duration 406 ms by bot id=8026201833
2025-11-12 20:18:04,198 - aiogram.event - INFO - Update id=896812981 is handled. Duration 219 ms by bot id=8026201833
2025-11-12 20:18:06,864 - aiogram.event - INFO - Update id=896812982 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:18:08,188 - aiogram.event - INFO - Update id=896812983 is handled. Duration 313 ms by bot id=8026201833
2025-11-12 20:18:09,826 - aiogram.event - INFO - Update id=896812984 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:18:11,872 - aiogram.event - INFO - Update id=896812985 is handled. Duration 265 ms by bot id=8026201833
2025-11-12 20:18:14,330 - aiogram.event - INFO - Update id=896812986 is handled. Duration 406 ms by bot id=8026201833
2025-11-12 20:18:16,996 - aiogram.event - INFO - Update id=896812987 is handled. Duration 218 ms by bot id=8026201833
2025-11-12 20:18:19,866 - aiogram.event - INFO - Update id=896812988 is handled. Duration 421 ms by bot id=8026201833
2025-11-12 20:18:24,241 - aiogram.event - INFO - Update id=896812989 is handled. Duration 187 ms by bot id=8026201833
2025-11-12 20:18:30,189 - aiogram.event - INFO - Update id=896812990 is handled. Duration 203 ms by bot id=8026201833
2025-11-12 20:18:31,623 - aiogram.event - INFO - Update id=896812991 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 20:18:33,158 - aiogram.event - INFO - Update id=896812992 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 20:18:35,025 - aiogram.event - INFO - Update id=896812993 is handled. Duration 125 ms by bot id=8026201833
2025-11-12 20:18:40,623 - aiogram.event - INFO - Update id=896812994 is handled. Duration 202 ms by bot id=8026201833
2025-11-12 20:18:40,847 - aiogram.event - INFO - Update id=896812997 is handled. Duration 219 ms by bot id=8026201833
2025-11-12 20:18:40,942 - aiogram.event - INFO - Update id=896812995 is handled. Duration 406 ms by bot id=8026201833
2025-11-12 20:18:41,040 - aiogram.event - INFO - Update id=896812996 is handled. Duration 406 ms by bot id=8026201833
2025-11-12 20:18:41,139 - aiogram.event - INFO - Update id=896812999 is handled. Duration 312 ms by bot id=8026201833
2025-11-12 20:18:41,242 - aiogram.event - INFO - Update id=896813000 is handled. Duration 296 ms by bot id=8026201833
2025-11-12 20:18:41,278 - aiogram.event - INFO - Update id=896813001 is handled. Duration 250 ms by bot id=8026201833
2025-11-12 20:18:41,378 - aiogram.event - INFO - Update id=896813002 is handled. Duration 233 ms by bot id=8026201833
2025-11-12 20:18:41,447 - aiogram.event - INFO - Update id=896812998 is handled. Duration 719 ms by bot id=8026201833
2025-11-12 20:18:41,508 - aiogram.event - INFO - Update id=896813004 is handled. Duration 250 ms by bot id=8026201833
2025-11-12 20:18:41,676 - aiogram.event - INFO - Update id=896813008 is handled. Duration 218 ms by bot id=8026201833
2025-11-12 20:18:41,735 - aiogram.event - INFO - Update id=896813005 is handled. Duration 390 ms by bot id=8026201833
2025-11-12 20:18:41,751 - aiogram.event - INFO - Update id=896813006 is handled. Duration 405 ms by bot id=8026201833
2025-11-12 20:18:41,798 - aiogram.event - INFO - Update id=896813007 is handled. Duration 452 ms by bot id=8026201833
2025-11-12 20:18:41,800 - aiogram.event - INFO - Update id=896813009 is handled. Duration 265 ms by bot id=8026201833
2025-11-12 20:18:41,808 - aiogram.event - INFO - Update id=896813003 is handled. Duration 547 ms by bot id=8026201833
2025-11-12 20:18:43,704 - aiogram.event - INFO - Update id=896813010 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 20:18:47,190 - aiogram.event - INFO - Update id=896813011 is handled. Duration 109 ms by bot id=8026201833
2025-11-12 20:18:50,663 - aiogram.event - INFO - Update id=896813012 is handled. Duration 515 ms by bot id=8026201833
2025-11-13 10:09:58,958 - __main__ - INFO - Инициализация базы данных...
2025-11-13 10:09:59,222 - __main__ - INFO - База данных инициализирована успешно
2025-11-13 10:09:59,389 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-13 10:09:59,389 - aiogram.dispatcher - INFO - Start polling
2025-11-13 10:09:59,472 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 10:10:11,051 - aiogram.dispatcher - INFO - Polling stopped
2025-11-13 10:10:11,306 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-13 10:10:11,307 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 10:11:15,533 - __main__ - INFO - Инициализация базы данных...
2025-11-13 10:11:15,633 - __main__ - INFO - База данных инициализирована успешно
2025-11-13 10:11:15,751 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-13 10:11:15,752 - aiogram.dispatcher - INFO - Start polling
2025-11-13 10:11:15,830 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 10:12:09,060 - aiogram.dispatcher - INFO - Polling stopped
2025-11-13 10:12:09,318 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-13 10:12:09,319 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 10:12:41,737 - __main__ - INFO - Инициализация базы данных...
2025-11-13 10:12:41,940 - __main__ - INFO - База данных инициализирована успешно
2025-11-13 10:12:42,039 - __main__ - WARNING - Не удалось отправить уведомление админу 1172430615: Telegram server says - Forbidden: bot was blocked by the user
2025-11-13 10:12:42,039 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-13 10:12:42,040 - aiogram.dispatcher - INFO - Start polling
2025-11-13 10:12:42,124 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 10:12:50,118 - aiogram.event - INFO - Update id=896813013 is handled. Duration 421 ms by bot id=8026201833
2025-11-13 10:13:03,620 - aiogram.event - INFO - Update id=896813014 is handled. Duration 109 ms by bot id=8026201833
2025-11-13 10:13:11,115 - aiogram.event - INFO - Update id=896813015 is handled. Duration 93 ms by bot id=8026201833
2025-11-13 10:13:21,676 - aiogram.event - INFO - Update id=896813016 is not handled. Duration 0 ms by bot id=8026201833
2025-11-13 10:13:21,676 - aiogram.event - ERROR - Cause exception while process update id=896813016 by bot id=8026201833
NameError: name 'get_hidden_keyboard' is not defined
Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 196, in process_address
    reply_markup=get_hidden_keyboard()
                 ^^^^^^^^^^^^^^^^^^^
NameError: name 'get_hidden_keyboard' is not defined
2025-11-13 10:13:25,675 - aiogram.event - INFO - Update id=896813017 is not handled. Duration 0 ms by bot id=8026201833
2025-11-13 10:13:33,392 - aiogram.event - INFO - Update id=896813018 is handled. Duration 266 ms by bot id=8026201833
2025-11-13 10:13:34,859 - aiogram.event - INFO - Update id=896813019 is handled. Duration 109 ms by bot id=8026201833
2025-11-13 10:13:37,835 - aiogram.event - INFO - Update id=896813020 is handled. Duration 187 ms by bot id=8026201833
2025-11-13 10:35:25,869 - aiogram.dispatcher - INFO - Polling stopped
2025-11-13 10:35:26,132 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-13 10:35:26,132 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 10:51:24,090 - __main__ - INFO - Инициализация базы данных...
2025-11-13 10:51:24,294 - __main__ - INFO - База данных инициализирована успешно
2025-11-13 10:51:24,727 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-13 10:51:24,728 - aiogram.dispatcher - INFO - Start polling
2025-11-13 10:51:24,900 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 10:51:32,430 - aiogram.event - INFO - Update id=896813021 is not handled. Duration 16 ms by bot id=8026201833
2025-11-13 10:51:38,407 - aiogram.event - INFO - Update id=896813022 is handled. Duration 733 ms by bot id=8026201833
2025-11-13 10:51:39,943 - aiogram.event - INFO - Update id=896813023 is handled. Duration 94 ms by bot id=8026201833
2025-11-13 10:51:42,403 - aiogram.event - INFO - Update id=896813024 is handled. Duration 108 ms by bot id=8026201833
2025-11-13 10:51:51,094 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 10:51:51,208 - aiogram.event - INFO - Update id=896813025 is handled. Duration 311 ms by bot id=8026201833
2025-11-13 10:52:08,745 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 10:52:09,114 - aiogram.event - INFO - Update id=896813026 is handled. Duration 811 ms by bot id=8026201833
2025-11-13 10:52:48,724 - aiogram.event - INFO - Update id=896813027 is not handled. Duration 16 ms by bot id=8026201833
2025-11-13 11:07:17,128 - aiogram.dispatcher - INFO - Polling stopped
2025-11-13 11:07:17,383 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-13 11:07:17,383 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 11:07:25,843 - __main__ - INFO - Инициализация базы данных...
2025-11-13 11:07:26,014 - __main__ - INFO - База данных инициализирована успешно
2025-11-13 11:07:26,281 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-13 11:07:26,281 - aiogram.dispatcher - INFO - Start polling
2025-11-13 11:07:26,439 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 11:07:34,691 - aiogram.event - INFO - Update id=896813028 is handled. Duration 421 ms by bot id=8026201833
2025-11-13 11:07:35,750 - aiogram.event - INFO - Update id=896813029 is handled. Duration 108 ms by bot id=8026201833
2025-11-13 11:07:37,513 - aiogram.event - INFO - Update id=896813030 is handled. Duration 125 ms by bot id=8026201833
2025-11-13 11:07:48,952 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 11:07:49,158 - aiogram.event - INFO - Update id=896813031 is handled. Duration 608 ms by bot id=8026201833
2025-11-13 11:07:56,027 - aiogram.event - INFO - Update id=896813032 is handled. Duration 327 ms by bot id=8026201833
2025-11-13 11:07:59,903 - aiogram.event - INFO - Update id=896813033 is handled. Duration 311 ms by bot id=8026201833
2025-11-13 11:08:10,118 - aiogram.dispatcher - INFO - Polling stopped
2025-11-13 11:08:10,133 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 1] [SSL: APPLICATION_DATA_AFTER_CLOSE_NOTIFY] application data after close notify (_ssl.c:2672)
2025-11-13 11:08:10,135 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8026201833)
2025-11-13 11:08:10,394 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-13 11:08:10,396 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 11:10:17,755 - __main__ - INFO - Инициализация базы данных...
2025-11-13 11:10:18,051 - __main__ - INFO - База данных инициализирована успешно
2025-11-13 11:10:18,477 - __main__ - WARNING - Не удалось отправить уведомление админу 1172430615: Telegram server says - Forbidden: bot was blocked by the user
2025-11-13 11:10:18,477 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-13 11:10:18,477 - aiogram.dispatcher - INFO - Start polling
2025-11-13 11:10:18,666 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 11:11:04,734 - aiogram.event - INFO - Update id=896813034 is handled. Duration 625 ms by bot id=8026201833
2025-11-13 11:11:06,151 - aiogram.event - INFO - Update id=896813035 is handled. Duration 266 ms by bot id=8026201833
2025-11-13 11:11:08,927 - aiogram.event - INFO - Update id=896813036 is handled. Duration 109 ms by bot id=8026201833
2025-11-13 11:11:32,247 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 11:11:32,654 - aiogram.event - INFO - Update id=896813037 is handled. Duration 608 ms by bot id=8026201833
2025-11-13 11:11:50,870 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 11:11:51,280 - aiogram.event - INFO - Update id=896813038 is handled. Duration 686 ms by bot id=8026201833
2025-11-13 11:12:05,913 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 11:12:06,227 - aiogram.event - INFO - Update id=896813039 is handled. Duration 859 ms by bot id=8026201833
2025-11-13 11:12:57,285 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 11:12:57,900 - aiogram.event - INFO - Update id=896813040 is handled. Duration 1000 ms by bot id=8026201833
2025-11-13 11:13:39,873 - aiogram.event - INFO - Update id=896813041 is not handled. Duration 15 ms by bot id=8026201833
2025-11-13 11:13:45,284 - aiogram.event - INFO - Update id=896813042 is handled. Duration 546 ms by bot id=8026201833
2025-11-13 11:13:55,828 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 11:13:56,143 - aiogram.event - INFO - Update id=896813043 is handled. Duration 532 ms by bot id=8026201833
2025-11-13 11:14:12,626 - aiogram.event - INFO - Update id=896813044 is handled. Duration 530 ms by bot id=8026201833
2025-11-13 11:14:14,972 - aiogram.event - INFO - Update id=896813045 is handled. Duration 421 ms by bot id=8026201833
2025-11-13 11:16:58,468 - aiogram.dispatcher - INFO - Polling stopped
2025-11-13 11:16:58,740 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-13 11:16:58,742 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 11:24:37,680 - __main__ - INFO - Инициализация базы данных...
2025-11-13 11:24:37,959 - __main__ - INFO - База данных инициализирована успешно
2025-11-13 11:24:38,233 - __main__ - WARNING - Не удалось отправить уведомление админу 1172430615: Telegram server says - Forbidden: bot was blocked by the user
2025-11-13 11:24:38,234 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-13 11:24:38,235 - aiogram.dispatcher - INFO - Start polling
2025-11-13 11:24:38,486 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 11:24:49,429 - aiogram.event - INFO - Update id=896813049 is handled. Duration 1719 ms by bot id=8026201833
2025-11-13 11:24:51,140 - aiogram.event - INFO - Update id=896813050 is handled. Duration 157 ms by bot id=8026201833
2025-11-13 11:24:53,228 - aiogram.event - INFO - Update id=896813051 is handled. Duration 202 ms by bot id=8026201833
2025-11-13 11:24:55,772 - aiogram.event - INFO - Update id=896813052 is handled. Duration 203 ms by bot id=8026201833
2025-11-13 11:24:57,931 - aiogram.event - INFO - Update id=896813053 is handled. Duration 94 ms by bot id=8026201833
2025-11-13 11:25:06,425 - aiogram.event - INFO - Update id=896813054 is handled. Duration 297 ms by bot id=8026201833
2025-11-13 11:25:07,086 - aiogram.event - INFO - Update id=896813047 is not handled. Duration 19390 ms by bot id=8026201833
2025-11-13 11:25:07,087 - aiogram.event - ERROR - Cause exception while process update id=896813047 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 59, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 11:25:07,290 - aiogram.event - INFO - Update id=896813048 is not handled. Duration 19592 ms by bot id=8026201833
2025-11-13 11:25:07,291 - aiogram.event - ERROR - Cause exception while process update id=896813048 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 59, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 11:25:09,283 - aiogram.event - INFO - Update id=896813055 is handled. Duration 296 ms by bot id=8026201833
2025-11-13 11:25:12,964 - aiogram.event - INFO - Update id=896813056 is handled. Duration 188 ms by bot id=8026201833
2025-11-13 11:25:15,428 - aiogram.event - INFO - Update id=896813057 is handled. Duration 313 ms by bot id=8026201833
2025-11-13 11:25:18,667 - aiogram.event - INFO - Update id=896813058 is handled. Duration 2217 ms by bot id=8026201833
2025-11-13 11:25:19,744 - aiogram.event - INFO - Update id=896813059 is handled. Duration 109 ms by bot id=8026201833
2025-11-13 11:25:23,280 - aiogram.event - INFO - Update id=896813046 is not handled. Duration 35858 ms by bot id=8026201833
2025-11-13 11:25:23,282 - aiogram.event - ERROR - Cause exception while process update id=896813046 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 59, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 11:25:25,056 - aiogram.event - INFO - Update id=896813060 is handled. Duration 203 ms by bot id=8026201833
2025-11-13 11:25:32,312 - aiogram.event - INFO - Update id=896813061 is handled. Duration 109 ms by bot id=8026201833
2025-11-13 11:25:41,829 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 11:25:42,029 - aiogram.event - INFO - Update id=896813062 is handled. Duration 625 ms by bot id=8026201833
2025-11-13 11:25:48,686 - aiogram.event - INFO - Update id=896813063 is handled. Duration 515 ms by bot id=8026201833
2025-11-13 11:25:54,927 - aiogram.event - INFO - Update id=896813064 is handled. Duration 203 ms by bot id=8026201833
2025-11-13 11:25:59,529 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 11:25:59,631 - aiogram.event - INFO - Update id=896813065 is handled. Duration 515 ms by bot id=8026201833
2025-11-13 11:26:07,420 - aiogram.event - INFO - Update id=896813066 is handled. Duration 328 ms by bot id=8026201833
2025-11-13 11:26:11,973 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 11:26:12,325 - aiogram.event - INFO - Update id=896813067 is handled. Duration 515 ms by bot id=8026201833
2025-11-13 11:32:36,605 - aiogram.dispatcher - INFO - Polling stopped
2025-11-13 11:32:36,888 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-13 11:32:36,888 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 11:32:44,394 - __main__ - INFO - Инициализация базы данных...
2025-11-13 11:32:44,651 - __main__ - INFO - База данных инициализирована успешно
2025-11-13 11:32:45,009 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-13 11:32:45,009 - aiogram.dispatcher - INFO - Start polling
2025-11-13 11:32:45,105 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 11:32:47,651 - aiogram.event - INFO - Update id=896813068 is not handled. Duration 30 ms by bot id=8026201833
2025-11-13 11:33:03,819 - aiogram.event - INFO - Update id=896813069 is not handled. Duration 15 ms by bot id=8026201833
2025-11-13 11:33:04,446 - aiogram.event - INFO - Update id=896813070 is not handled. Duration 15 ms by bot id=8026201833
2025-11-13 11:33:04,742 - aiogram.event - INFO - Update id=896813071 is not handled. Duration 15 ms by bot id=8026201833
2025-11-13 11:33:20,292 - aiogram.event - INFO - Update id=896813072 is not handled. Duration 16 ms by bot id=8026201833
2025-11-13 11:33:26,507 - aiogram.dispatcher - INFO - Polling stopped
2025-11-13 11:33:26,776 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-13 11:33:26,777 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 11:33:33,802 - __main__ - INFO - Инициализация базы данных...
2025-11-13 11:33:33,972 - __main__ - INFO - База данных инициализирована успешно
2025-11-13 11:33:34,258 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-13 11:33:34,259 - aiogram.dispatcher - INFO - Start polling
2025-11-13 11:33:34,408 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 11:33:35,569 - aiogram.event - INFO - Update id=896813073 is not handled. Duration 15 ms by bot id=8026201833
2025-11-13 11:33:58,959 - aiogram.event - INFO - Update id=896813081 is handled. Duration 311 ms by bot id=8026201833
2025-11-13 11:33:59,071 - aiogram.event - INFO - Update id=896813082 is handled. Duration 109 ms by bot id=8026201833
2025-11-13 11:33:59,680 - aiogram.event - INFO - Update id=896813083 is handled. Duration 172 ms by bot id=8026201833
2025-11-13 11:34:06,230 - aiogram.event - INFO - Update id=896813084 is handled. Duration 203 ms by bot id=8026201833
2025-11-13 11:34:07,039 - aiogram.event - INFO - Update id=896813074 is not handled. Duration 20436 ms by bot id=8026201833
2025-11-13 11:34:07,040 - aiogram.event - ERROR - Cause exception while process update id=896813074 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 59, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 11:34:10,425 - aiogram.event - INFO - Update id=896813085 is handled. Duration 203 ms by bot id=8026201833
2025-11-13 11:34:15,410 - aiogram.event - INFO - Update id=896813075 is not handled. Duration 19811 ms by bot id=8026201833
2025-11-13 11:34:15,413 - aiogram.event - ERROR - Cause exception while process update id=896813075 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 59, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 11:34:15,734 - aiogram.event - INFO - Update id=896813076 is not handled. Duration 19375 ms by bot id=8026201833
2025-11-13 11:34:15,736 - aiogram.event - ERROR - Cause exception while process update id=896813076 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 59, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 11:34:16,702 - aiogram.event - INFO - Update id=896813078 is not handled. Duration 19375 ms by bot id=8026201833
2025-11-13 11:34:16,703 - aiogram.event - ERROR - Cause exception while process update id=896813078 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 59, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 11:34:17,276 - aiogram.event - INFO - Update id=896813079 is not handled. Duration 19342 ms by bot id=8026201833
2025-11-13 11:34:17,277 - aiogram.event - ERROR - Cause exception while process update id=896813079 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 59, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 11:34:17,603 - aiogram.event - INFO - Update id=896813080 is not handled. Duration 19344 ms by bot id=8026201833
2025-11-13 11:34:17,604 - aiogram.event - ERROR - Cause exception while process update id=896813080 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 59, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 11:34:19,294 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 11:34:19,402 - aiogram.event - INFO - Update id=896813086 is handled. Duration 358 ms by bot id=8026201833
2025-11-13 11:34:19,528 - aiogram.event - INFO - Update id=896813077 is not handled. Duration 22608 ms by bot id=8026201833
2025-11-13 11:34:19,529 - aiogram.event - ERROR - Cause exception while process update id=896813077 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 59, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 11:34:24,226 - aiogram.event - INFO - Update id=896813087 is not handled. Duration 15 ms by bot id=8026201833
2025-11-13 11:34:35,107 - aiogram.event - INFO - Update id=896813088 is not handled. Duration 15 ms by bot id=8026201833
2025-11-13 11:34:35,439 - aiogram.event - INFO - Update id=896813089 is not handled. Duration 15 ms by bot id=8026201833
2025-11-13 11:34:36,038 - aiogram.event - INFO - Update id=896813090 is not handled. Duration 14 ms by bot id=8026201833
2025-11-13 11:35:01,302 - aiogram.event - INFO - Update id=896813091 is not handled. Duration 16 ms by bot id=8026201833
2025-11-13 11:35:03,154 - aiogram.event - INFO - Update id=896813092 is not handled. Duration 30 ms by bot id=8026201833
2025-11-13 11:35:11,729 - aiogram.event - INFO - Update id=896813093 is handled. Duration 625 ms by bot id=8026201833
2025-11-13 11:35:13,423 - aiogram.event - INFO - Update id=896813094 is handled. Duration 405 ms by bot id=8026201833
2025-11-13 11:35:16,438 - aiogram.event - INFO - Update id=896813095 is handled. Duration 188 ms by bot id=8026201833
2025-11-13 11:35:17,772 - aiogram.event - INFO - Update id=896813096 is handled. Duration 110 ms by bot id=8026201833
2025-11-13 11:37:16,091 - aiogram.dispatcher - INFO - Polling stopped
2025-11-13 11:37:16,357 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-13 11:37:16,358 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 11:37:48,932 - __main__ - INFO - Инициализация базы данных...
2025-11-13 11:37:49,160 - __main__ - INFO - База данных инициализирована успешно
2025-11-13 11:37:49,462 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-13 11:37:49,462 - aiogram.dispatcher - INFO - Start polling
2025-11-13 11:37:49,550 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 11:37:55,856 - aiogram.dispatcher - INFO - Polling stopped
2025-11-13 11:37:56,127 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-13 11:37:56,129 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 11:38:32,153 - __main__ - INFO - Инициализация базы данных...
2025-11-13 11:38:32,329 - __main__ - INFO - База данных инициализирована успешно
2025-11-13 11:38:32,536 - __main__ - WARNING - Не удалось отправить уведомление админу 1172430615: Telegram server says - Forbidden: bot was blocked by the user
2025-11-13 11:38:32,537 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-13 11:38:32,538 - aiogram.dispatcher - INFO - Start polling
2025-11-13 11:38:32,618 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 11:38:56,304 - aiogram.event - INFO - Update id=896813100 is handled. Duration 297 ms by bot id=8026201833
2025-11-13 11:38:56,811 - aiogram.event - INFO - Update id=896813101 is handled. Duration 203 ms by bot id=8026201833
2025-11-13 11:38:57,263 - aiogram.event - INFO - Update id=896813097 is not handled. Duration 19344 ms by bot id=8026201833
2025-11-13 11:38:57,263 - aiogram.event - ERROR - Cause exception while process update id=896813097 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 59, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 11:39:01,218 - aiogram.event - INFO - Update id=896813102 is handled. Duration 202 ms by bot id=8026201833
2025-11-13 11:39:03,690 - aiogram.event - INFO - Update id=896813103 is handled. Duration 188 ms by bot id=8026201833
2025-11-13 11:39:13,484 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 11:39:13,594 - aiogram.event - INFO - Update id=896813104 is handled. Duration 344 ms by bot id=8026201833
2025-11-13 11:39:14,068 - aiogram.event - INFO - Update id=896813098 is not handled. Duration 19296 ms by bot id=8026201833
2025-11-13 11:39:14,069 - aiogram.event - ERROR - Cause exception while process update id=896813098 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 59, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 11:39:15,928 - aiogram.event - INFO - Update id=896813099 is not handled. Duration 20484 ms by bot id=8026201833
2025-11-13 11:39:15,929 - aiogram.event - ERROR - Cause exception while process update id=896813099 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 59, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 11:39:22,522 - aiogram.event - INFO - Update id=896813105 is handled. Duration 328 ms by bot id=8026201833
2025-11-13 11:39:31,037 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 11:39:31,141 - aiogram.event - INFO - Update id=896813106 is handled. Duration 407 ms by bot id=8026201833
2025-11-13 11:39:37,430 - aiogram.event - INFO - Update id=896813107 is not handled. Duration 0 ms by bot id=8026201833
2025-11-13 11:43:31,046 - aiogram.event - INFO - Update id=896813108 is not handled. Duration 16 ms by bot id=8026201833
2025-11-13 11:43:34,753 - aiogram.dispatcher - INFO - Polling stopped
2025-11-13 11:43:35,006 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-13 11:43:35,006 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 11:43:42,510 - __main__ - INFO - Инициализация базы данных...
2025-11-13 11:43:42,721 - __main__ - INFO - База данных инициализирована успешно
2025-11-13 11:43:43,017 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-13 11:43:43,023 - aiogram.dispatcher - INFO - Start polling
2025-11-13 11:43:43,168 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 11:43:57,423 - aiogram.event - INFO - Update id=896813113 is handled. Duration 313 ms by bot id=8026201833
2025-11-13 11:44:03,352 - aiogram.event - INFO - Update id=896813114 is handled. Duration 94 ms by bot id=8026201833
2025-11-13 11:44:05,811 - aiogram.event - INFO - Update id=896813115 is handled. Duration 109 ms by bot id=8026201833
2025-11-13 11:44:07,577 - aiogram.event - INFO - Update id=896813109 is not handled. Duration 19311 ms by bot id=8026201833
2025-11-13 11:44:07,578 - aiogram.event - ERROR - Cause exception while process update id=896813109 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 60, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 11:44:10,210 - aiogram.event - INFO - Update id=896813116 is handled. Duration 94 ms by bot id=8026201833
2025-11-13 11:44:12,059 - aiogram.event - INFO - Update id=896813117 is handled. Duration 109 ms by bot id=8026201833
2025-11-13 11:44:12,581 - aiogram.event - INFO - Update id=896813110 is not handled. Duration 19203 ms by bot id=8026201833
2025-11-13 11:44:12,582 - aiogram.event - ERROR - Cause exception while process update id=896813110 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 60, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 11:44:13,395 - aiogram.event - INFO - Update id=896813111 is not handled. Duration 19203 ms by bot id=8026201833
2025-11-13 11:44:13,396 - aiogram.event - ERROR - Cause exception while process update id=896813111 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 60, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 11:44:13,589 - aiogram.event - INFO - Update id=896813118 is handled. Duration 171 ms by bot id=8026201833
2025-11-13 11:44:15,378 - aiogram.event - INFO - Update id=896813112 is not handled. Duration 19375 ms by bot id=8026201833
2025-11-13 11:44:15,379 - aiogram.event - ERROR - Cause exception while process update id=896813112 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 60, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 11:44:15,531 - aiogram.event - INFO - Update id=896813119 is handled. Duration 202 ms by bot id=8026201833
2025-11-13 11:44:24,739 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 11:44:24,853 - aiogram.event - INFO - Update id=896813120 is handled. Duration 405 ms by bot id=8026201833
2025-11-13 11:44:28,221 - aiogram.event - INFO - Update id=896813121 is handled. Duration 250 ms by bot id=8026201833
2025-11-13 11:44:31,396 - aiogram.event - INFO - Update id=896813122 is handled. Duration 297 ms by bot id=8026201833
2025-11-13 11:44:35,807 - aiogram.event - INFO - Update id=896813123 is handled. Duration 94 ms by bot id=8026201833
2025-11-13 11:44:42,034 - aiogram.event - INFO - Update id=896813124 is handled. Duration 311 ms by bot id=8026201833
2025-11-13 11:47:12,091 - aiogram.event - INFO - Update id=896813125 is handled. Duration 719 ms by bot id=8026201833
2025-11-13 11:47:14,226 - aiogram.event - INFO - Update id=896813126 is handled. Duration 94 ms by bot id=8026201833
2025-11-13 11:47:15,290 - aiogram.event - INFO - Update id=896813127 is handled. Duration 92 ms by bot id=8026201833
2025-11-13 11:47:18,288 - aiogram.event - INFO - Update id=896813128 is handled. Duration 125 ms by bot id=8026201833
2025-11-13 11:47:19,279 - aiogram.event - INFO - Update id=896813129 is handled. Duration 108 ms by bot id=8026201833
2025-11-13 11:47:20,725 - aiogram.event - INFO - Update id=896813130 is handled. Duration 155 ms by bot id=8026201833
2025-11-13 11:47:25,253 - aiogram.event - INFO - Update id=896813131 is handled. Duration 94 ms by bot id=8026201833
2025-11-13 11:47:27,777 - aiogram.event - INFO - Update id=896813132 is handled. Duration 108 ms by bot id=8026201833
2025-11-13 11:47:37,496 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 11:47:37,591 - aiogram.event - INFO - Update id=896813133 is handled. Duration 265 ms by bot id=8026201833
2025-11-13 11:47:39,854 - aiogram.event - INFO - Update id=896813134 is handled. Duration 202 ms by bot id=8026201833
2025-11-13 11:47:41,239 - aiogram.event - INFO - Update id=896813135 is handled. Duration 296 ms by bot id=8026201833
2025-11-13 11:49:01,036 - aiogram.event - INFO - Update id=896813136 is not handled. Duration 0 ms by bot id=8026201833
2025-11-13 11:49:05,982 - aiogram.event - INFO - Update id=896813137 is not handled. Duration 15 ms by bot id=8026201833
2025-11-13 11:49:32,912 - aiogram.event - INFO - Update id=896813138 is handled. Duration 327 ms by bot id=8026201833
2025-11-13 11:49:42,692 - aiogram.event - INFO - Update id=896813140 is handled. Duration 219 ms by bot id=8026201833
2025-11-13 11:49:50,176 - aiogram.event - INFO - Update id=896813141 is handled. Duration 94 ms by bot id=8026201833
2025-11-13 11:49:53,039 - aiogram.event - INFO - Update id=896813142 is handled. Duration 155 ms by bot id=8026201833
2025-11-13 11:49:53,466 - aiogram.event - INFO - Update id=896813139 is not handled. Duration 19046 ms by bot id=8026201833
2025-11-13 11:49:53,466 - aiogram.event - ERROR - Cause exception while process update id=896813139 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 60, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 11:49:55,674 - aiogram.event - INFO - Update id=896813143 is handled. Duration 94 ms by bot id=8026201833
2025-11-13 11:50:00,831 - aiogram.event - INFO - Update id=896813144 is handled. Duration 203 ms by bot id=8026201833
2025-11-13 11:50:02,823 - aiogram.event - INFO - Update id=896813145 is handled. Duration 94 ms by bot id=8026201833
2025-11-13 11:50:09,616 - aiogram.event - INFO - Update id=896813146 is handled. Duration 92 ms by bot id=8026201833
2025-11-13 11:50:15,258 - aiogram.event - INFO - Update id=896813147 is handled. Duration 125 ms by bot id=8026201833
2025-11-13 11:50:26,123 - aiogram.event - INFO - Update id=896813148 is handled. Duration 530 ms by bot id=8026201833
2025-11-13 11:50:42,658 - aiogram.event - INFO - Update id=896813149 is handled. Duration 264 ms by bot id=8026201833
2025-11-13 11:50:44,662 - aiogram.event - INFO - Update id=896813150 is handled. Duration 92 ms by bot id=8026201833
2025-11-13 11:50:47,710 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 11:50:48,170 - aiogram.event - INFO - Update id=896813152 is handled. Duration 280 ms by bot id=8026201833
2025-11-13 11:50:48,245 - aiogram.event - INFO - Update id=896813151 is handled. Duration 686 ms by bot id=8026201833
2025-11-13 11:50:54,488 - aiogram.event - INFO - Update id=896813153 is handled. Duration 171 ms by bot id=8026201833
2025-11-13 11:50:54,744 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 11:50:54,883 - aiogram.event - INFO - Update id=896813154 is handled. Duration 296 ms by bot id=8026201833
2025-11-13 11:50:56,457 - aiogram.event - INFO - Update id=896813155 is handled. Duration 265 ms by bot id=8026201833
2025-11-13 11:50:57,024 - aiogram.event - INFO - Update id=896813156 is handled. Duration 266 ms by bot id=8026201833
2025-11-13 11:50:58,346 - aiogram.event - INFO - Update id=896813157 is handled. Duration 188 ms by bot id=8026201833
2025-11-13 11:51:04,109 - aiogram.event - INFO - Update id=896813158 is not handled. Duration 15 ms by bot id=8026201833
2025-11-13 11:51:38,598 - aiogram.dispatcher - INFO - Polling stopped
2025-11-13 11:51:38,866 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-13 11:51:38,867 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 11:55:21,072 - __main__ - INFO - Инициализация базы данных...
2025-11-13 11:55:21,170 - __main__ - INFO - База данных инициализирована успешно
2025-11-13 11:55:21,344 - __main__ - WARNING - Не удалось отправить уведомление админу 1172430615: Telegram server says - Forbidden: bot was blocked by the user
2025-11-13 11:55:21,344 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-13 11:55:21,345 - aiogram.dispatcher - INFO - Start polling
2025-11-13 11:55:21,441 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 11:55:49,878 - aiogram.event - INFO - Update id=896813159 is not handled. Duration 19219 ms by bot id=8026201833
2025-11-13 11:55:49,878 - aiogram.event - ERROR - Cause exception while process update id=896813159 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 60, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 11:55:54,418 - aiogram.event - INFO - Update id=896813160 is handled. Duration 1047 ms by bot id=8026201833
2025-11-13 11:55:55,697 - aiogram.event - INFO - Update id=896813161 is handled. Duration 109 ms by bot id=8026201833
2025-11-13 11:55:57,764 - aiogram.event - INFO - Update id=896813162 is handled. Duration 110 ms by bot id=8026201833
2025-11-13 11:56:08,436 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 11:56:08,530 - aiogram.event - INFO - Update id=896813163 is handled. Duration 280 ms by bot id=8026201833
2025-11-13 11:56:11,303 - aiogram.event - INFO - Update id=896813164 is handled. Duration 203 ms by bot id=8026201833
2025-11-13 11:56:12,629 - aiogram.event - INFO - Update id=896813165 is handled. Duration 344 ms by bot id=8026201833
2025-11-13 11:56:16,653 - aiogram.event - INFO - Update id=896813166 is handled. Duration 92 ms by bot id=8026201833
2025-11-13 12:02:16,911 - aiogram.dispatcher - INFO - Polling stopped
2025-11-13 12:02:17,182 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-13 12:02:17,183 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 12:08:32,100 - __main__ - INFO - Инициализация базы данных...
2025-11-13 12:08:32,223 - __main__ - INFO - База данных инициализирована успешно
2025-11-13 12:08:32,542 - __main__ - WARNING - Не удалось отправить уведомление админу 1172430615: Telegram server says - Forbidden: bot was blocked by the user
2025-11-13 12:08:32,543 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-13 12:08:32,543 - aiogram.dispatcher - INFO - Start polling
2025-11-13 12:08:32,613 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 12:08:39,314 - aiogram.event - INFO - Update id=896813167 is handled. Duration 265 ms by bot id=8026201833
2025-11-13 12:08:40,935 - aiogram.event - INFO - Update id=896813168 is handled. Duration 110 ms by bot id=8026201833
2025-11-13 12:08:42,945 - aiogram.event - INFO - Update id=896813169 is handled. Duration 110 ms by bot id=8026201833
2025-11-13 12:08:52,147 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 12:08:52,250 - aiogram.event - INFO - Update id=896813170 is handled. Duration 311 ms by bot id=8026201833
2025-11-13 12:08:54,640 - aiogram.event - INFO - Update id=896813171 is handled. Duration 188 ms by bot id=8026201833
2025-11-13 12:08:56,107 - aiogram.event - INFO - Update id=896813172 is handled. Duration 186 ms by bot id=8026201833
2025-11-13 12:08:57,092 - aiogram.event - INFO - Update id=896813173 is handled. Duration 125 ms by bot id=8026201833
2025-11-13 12:08:58,731 - aiogram.event - INFO - Update id=896813174 is handled. Duration 109 ms by bot id=8026201833
2025-11-13 12:09:44,142 - aiogram.dispatcher - INFO - Polling stopped
2025-11-13 12:09:44,397 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-13 12:09:44,398 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 12:14:28,503 - __main__ - INFO - Инициализация базы данных...
2025-11-13 12:14:28,628 - __main__ - INFO - База данных инициализирована успешно
2025-11-13 12:14:28,806 - __main__ - WARNING - Не удалось отправить уведомление админу 1172430615: Telegram server says - Forbidden: bot was blocked by the user
2025-11-13 12:14:28,806 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-13 12:14:28,806 - aiogram.dispatcher - INFO - Start polling
2025-11-13 12:14:28,879 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 12:14:55,598 - aiogram.event - INFO - Update id=896813175 is not handled. Duration 19281 ms by bot id=8026201833
2025-11-13 12:14:55,598 - aiogram.event - ERROR - Cause exception while process update id=896813175 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 65, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 12:14:56,941 - aiogram.event - INFO - Update id=896813177 is handled. Duration 250 ms by bot id=8026201833
2025-11-13 12:14:57,135 - aiogram.event - INFO - Update id=896813179 is handled. Duration 296 ms by bot id=8026201833
2025-11-13 12:15:08,764 - aiogram.event - INFO - Update id=896813180 is handled. Duration 109 ms by bot id=8026201833
2025-11-13 12:15:11,444 - aiogram.event - INFO - Update id=896813176 is not handled. Duration 19281 ms by bot id=8026201833
2025-11-13 12:15:11,444 - aiogram.event - ERROR - Cause exception while process update id=896813176 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 65, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 12:15:11,711 - aiogram.event - INFO - Update id=896813181 is handled. Duration 186 ms by bot id=8026201833
2025-11-13 12:15:15,954 - aiogram.event - INFO - Update id=896813178 is not handled. Duration 19186 ms by bot id=8026201833
2025-11-13 12:15:15,955 - aiogram.event - ERROR - Cause exception while process update id=896813178 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 65, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 12:15:18,743 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 12:15:18,929 - aiogram.event - INFO - Update id=896813182 is handled. Duration 438 ms by bot id=8026201833
2025-11-13 12:15:20,302 - aiogram.event - INFO - Update id=896813183 is handled. Duration 265 ms by bot id=8026201833
2025-11-13 12:15:21,471 - aiogram.event - INFO - Update id=896813184 is handled. Duration 219 ms by bot id=8026201833
2025-11-13 12:15:22,704 - aiogram.event - INFO - Update id=896813185 is handled. Duration 186 ms by bot id=8026201833
2025-11-13 12:17:08,082 - aiogram.dispatcher - INFO - Polling stopped
2025-11-13 12:17:08,332 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-13 12:17:08,332 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 12:19:24,676 - __main__ - INFO - Инициализация базы данных...
2025-11-13 12:19:24,912 - __main__ - INFO - База данных инициализирована успешно
2025-11-13 12:19:25,098 - __main__ - WARNING - Не удалось отправить уведомление админу 1172430615: Telegram server says - Forbidden: bot was blocked by the user
2025-11-13 12:19:25,098 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-13 12:19:25,098 - aiogram.dispatcher - INFO - Start polling
2025-11-13 12:19:25,160 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 12:19:35,308 - aiogram.event - INFO - Update id=896813187 is handled. Duration 406 ms by bot id=8026201833
2025-11-13 12:19:37,840 - aiogram.event - INFO - Update id=896813188 is handled. Duration 125 ms by bot id=8026201833
2025-11-13 12:19:40,103 - aiogram.event - INFO - Update id=896813189 is handled. Duration 110 ms by bot id=8026201833
2025-11-13 12:19:45,461 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 12:19:45,567 - aiogram.event - INFO - Update id=896813190 is handled. Duration 328 ms by bot id=8026201833
2025-11-13 12:19:47,594 - aiogram.event - INFO - Update id=896813191 is handled. Duration 219 ms by bot id=8026201833
2025-11-13 12:19:49,464 - aiogram.event - INFO - Update id=896813186 is not handled. Duration 19233 ms by bot id=8026201833
2025-11-13 12:19:49,464 - aiogram.event - ERROR - Cause exception while process update id=896813186 by bot id=8026201833
TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
Traceback (most recent call last):
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\proactor_events.py", line 282, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 837, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 485, in finish_recv
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 121] Превышен таймаут семафора

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 171, in make_request
    async with session.post(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 1197, in __aenter__
    self._resp = await self._coro
                 ^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client.py", line 608, in _request
    await resp.start(conn)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\client_reqrep.py", line 976, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiohttp\streams.py", line 640, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [WinError 121] Превышен таймаут семафора

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 65, in start_command
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\bot.py", line 441, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\base.py", line 257, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 178, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2025-11-13 12:19:49,710 - aiogram.event - INFO - Update id=896813192 is handled. Duration 296 ms by bot id=8026201833
2025-11-13 12:19:52,400 - aiogram.event - INFO - Update id=896813193 is handled. Duration 109 ms by bot id=8026201833
2025-11-13 12:27:58,644 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 64] Указанное сетевое имя более недоступно
2025-11-13 12:27:58,644 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8026201833)
2025-11-13 12:28:09,486 - aiogram.dispatcher - INFO - Polling stopped
2025-11-13 12:28:09,740 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-13 12:28:09,740 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 12:28:33,553 - __main__ - INFO - Инициализация базы данных...
2025-11-13 12:28:33,712 - __main__ - INFO - База данных инициализирована успешно
2025-11-13 12:28:34,064 - __main__ - WARNING - Не удалось отправить уведомление админу 1172430615: Telegram server says - Forbidden: bot was blocked by the user
2025-11-13 12:28:34,064 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-13 12:28:34,065 - aiogram.dispatcher - INFO - Start polling
2025-11-13 12:28:34,161 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 12:28:40,287 - aiogram.event - INFO - Update id=896813194 is handled. Duration 468 ms by bot id=8026201833
2025-11-13 12:28:43,819 - aiogram.event - INFO - Update id=896813195 is handled. Duration 2297 ms by bot id=8026201833
2025-11-13 12:28:47,153 - aiogram.event - INFO - Update id=896813196 is handled. Duration 718 ms by bot id=8026201833
2025-11-13 12:28:52,985 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 12:28:53,086 - aiogram.event - INFO - Update id=896813197 is handled. Duration 811 ms by bot id=8026201833
2025-11-13 12:28:55,136 - aiogram.event - INFO - Update id=896813198 is handled. Duration 734 ms by bot id=8026201833
2025-11-13 12:28:56,071 - aiogram.event - INFO - Update id=896813199 is not handled. Duration 15 ms by bot id=8026201833
2025-11-13 12:28:56,071 - aiogram.event - ERROR - Cause exception while process update id=896813199 by bot id=8026201833
RuntimeError: This method is not mounted to a any bot instance, please call it explicilty with bot instance `await bot(method)`
or mount method to a bot instance `method.as_(bot)` and then call it `await method()`
Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 384, in complete_registration
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 89, in __await__
    raise RuntimeError(
RuntimeError: This method is not mounted to a any bot instance, please call it explicilty with bot instance `await bot(method)`
or mount method to a bot instance `method.as_(bot)` and then call it `await method()`

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 347, in process_address_confirmation
    await complete_registration(fake_message, state)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 397, in complete_registration
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 89, in __await__
    raise RuntimeError(
RuntimeError: This method is not mounted to a any bot instance, please call it explicilty with bot instance `await bot(method)`
or mount method to a bot instance `method.as_(bot)` and then call it `await method()`
2025-11-13 12:29:11,925 - aiogram.event - INFO - Update id=896813200 is not handled. Duration 0 ms by bot id=8026201833
2025-11-13 12:29:11,926 - aiogram.event - ERROR - Cause exception while process update id=896813200 by bot id=8026201833
RuntimeError: This method is not mounted to a any bot instance, please call it explicilty with bot instance `await bot(method)`
or mount method to a bot instance `method.as_(bot)` and then call it `await method()`
Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 557, in _prepare_and_execute
    self._rows = await prepared_stmt.fetch(*parameters)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 241, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 230, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\protocol\protocol.pyx", line 207, in bind_execute
asyncpg.exceptions.UniqueViolationError: повторяющееся значение ключа нарушает ограничение уникальности "clients_telegram_id_key"
DETAIL:  Ключ "(telegram_id)=(1172430615)" уже существует.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.UniqueViolationError'>: повторяющееся значение ключа нарушает ограничение уникальности "clients_telegram_id_key"
DETAIL:  Ключ "(telegram_id)=(1172430615)" уже существует.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 375, in complete_registration
    client = await database.create_client(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\database.py", line 54, in create_client
    await session.commit()
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1011, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1256, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1231, in _prepare_impl
    self.session.flush()
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4312, in flush
    self._flush(objects)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4447, in _flush
    with util.safe_reraise():
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4408, in _flush
    flush_context.execute()
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1226, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: повторяющееся значение ключа нарушает ограничение уникальности "clients_telegram_id_key"
DETAIL:  Ключ "(telegram_id)=(1172430615)" уже существует.
[SQL: INSERT INTO clients (telegram_id, name, phone, address, registration_date) VALUES ($1::BIGINT, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE) RETURNING clients.id]
[parameters: (1172430615, 'Максим', '+79954764140', 'г. Челябинск, пр-кт Ленина, д. 76', datetime.datetime(2025, 11, 13, 12, 29, 11, 920832))]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 347, in process_address_confirmation
    await complete_registration(fake_message, state)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 397, in complete_registration
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 89, in __await__
    raise RuntimeError(
RuntimeError: This method is not mounted to a any bot instance, please call it explicilty with bot instance `await bot(method)`
or mount method to a bot instance `method.as_(bot)` and then call it `await method()`
2025-11-13 12:29:37,522 - aiogram.event - INFO - Update id=896813201 is not handled. Duration 0 ms by bot id=8026201833
2025-11-13 12:29:37,522 - aiogram.event - ERROR - Cause exception while process update id=896813201 by bot id=8026201833
RuntimeError: This method is not mounted to a any bot instance, please call it explicilty with bot instance `await bot(method)`
or mount method to a bot instance `method.as_(bot)` and then call it `await method()`
Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 557, in _prepare_and_execute
    self._rows = await prepared_stmt.fetch(*parameters)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 241, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\asyncpg\prepared_stmt.py", line 230, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\protocol\protocol.pyx", line 207, in bind_execute
asyncpg.exceptions.UniqueViolationError: повторяющееся значение ключа нарушает ограничение уникальности "clients_telegram_id_key"
DETAIL:  Ключ "(telegram_id)=(1172430615)" уже существует.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.UniqueViolationError'>: повторяющееся значение ключа нарушает ограничение уникальности "clients_telegram_id_key"
DETAIL:  Ключ "(telegram_id)=(1172430615)" уже существует.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 375, in complete_registration
    client = await database.create_client(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\database.py", line 54, in create_client
    await session.commit()
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1011, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 192, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1256, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1231, in _prepare_impl
    self.session.flush()
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4312, in flush
    self._flush(objects)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4447, in _flush
    with util.safe_reraise():
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4408, in _flush
    flush_context.execute()
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1226, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: повторяющееся значение ключа нарушает ограничение уникальности "clients_telegram_id_key"
DETAIL:  Ключ "(telegram_id)=(1172430615)" уже существует.
[SQL: INSERT INTO clients (telegram_id, name, phone, address, registration_date) VALUES ($1::BIGINT, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE) RETURNING clients.id]
[parameters: (1172430615, 'Максим', '+79954764140', 'г. Челябинск, пр-кт Ленина, д. 76', datetime.datetime(2025, 11, 13, 12, 29, 37, 518137))]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 347, in process_address_confirmation
    await complete_registration(fake_message, state)
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\handlers\registration.py", line 397, in complete_registration
    await message.answer(
  File "C:\Users\WM\Desktop\ЮУрГУ\Курсовая работа,\OverseasShop\venv\Lib\site-packages\aiogram\methods\base.py", line 89, in __await__
    raise RuntimeError(
RuntimeError: This method is not mounted to a any bot instance, please call it explicilty with bot instance `await bot(method)`
or mount method to a bot instance `method.as_(bot)` and then call it `await method()`
2025-11-13 12:31:18,252 - aiogram.dispatcher - INFO - Polling stopped
2025-11-13 12:31:18,518 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-13 12:31:18,519 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 12:35:19,474 - __main__ - INFO - Инициализация базы данных...
2025-11-13 12:35:19,641 - __main__ - INFO - База данных инициализирована успешно
2025-11-13 12:35:20,034 - __main__ - WARNING - Не удалось отправить уведомление админу 1172430615: Telegram server says - Forbidden: bot was blocked by the user
2025-11-13 12:35:20,035 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-13 12:35:20,035 - aiogram.dispatcher - INFO - Start polling
2025-11-13 12:35:20,188 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 12:35:31,517 - aiogram.event - INFO - Update id=896813202 is handled. Duration 468 ms by bot id=8026201833
2025-11-13 12:35:33,189 - aiogram.event - INFO - Update id=896813203 is handled. Duration 203 ms by bot id=8026201833
2025-11-13 12:35:35,749 - aiogram.event - INFO - Update id=896813204 is handled. Duration 311 ms by bot id=8026201833
2025-11-13 12:35:42,916 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 12:35:43,045 - aiogram.event - INFO - Update id=896813205 is handled. Duration 438 ms by bot id=8026201833
2025-11-13 12:35:44,662 - aiogram.event - INFO - Update id=896813206 is handled. Duration 311 ms by bot id=8026201833
2025-11-13 12:35:45,790 - aiogram.event - INFO - Update id=896813207 is handled. Duration 203 ms by bot id=8026201833
2025-11-13 12:35:48,036 - aiogram.event - INFO - Update id=896813208 is handled. Duration 172 ms by bot id=8026201833
2025-11-13 12:35:49,777 - aiogram.event - INFO - Update id=896813209 is handled. Duration 203 ms by bot id=8026201833
2025-11-13 12:35:50,710 - aiogram.event - INFO - Update id=896813210 is handled. Duration 108 ms by bot id=8026201833
2025-11-13 12:35:53,577 - aiogram.event - INFO - Update id=896813211 is handled. Duration 125 ms by bot id=8026201833
2025-11-13 12:35:56,975 - aiogram.event - INFO - Update id=896813212 is handled. Duration 219 ms by bot id=8026201833
2025-11-13 12:36:01,787 - aiogram.event - INFO - Update id=896813213 is handled. Duration 3406 ms by bot id=8026201833
2025-11-13 12:36:03,367 - aiogram.event - INFO - Update id=896813214 is handled. Duration 109 ms by bot id=8026201833
2025-11-13 12:36:22,978 - aiogram.event - INFO - Update id=896813215 is not handled. Duration 16 ms by bot id=8026201833
2025-11-13 12:36:42,013 - aiogram.event - INFO - Update id=896813216 is not handled. Duration 15 ms by bot id=8026201833
2025-11-13 12:36:43,336 - aiogram.event - INFO - Update id=896813217 is handled. Duration 296 ms by bot id=8026201833
2025-11-13 12:36:45,594 - aiogram.event - INFO - Update id=896813218 is handled. Duration 110 ms by bot id=8026201833
2025-11-13 12:36:50,196 - aiogram.event - INFO - Update id=896813219 is handled. Duration 125 ms by bot id=8026201833
2025-11-13 12:36:57,796 - aiogram.event - INFO - Update id=896813220 is handled. Duration 125 ms by bot id=8026201833
2025-11-13 12:37:12,915 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-13 12:37:13,324 - aiogram.event - INFO - Update id=896813221 is handled. Duration 702 ms by bot id=8026201833
2025-11-13 12:37:19,894 - aiogram.event - INFO - Update id=896813222 is handled. Duration 313 ms by bot id=8026201833
2025-11-13 12:37:21,627 - aiogram.event - INFO - Update id=896813223 is handled. Duration 311 ms by bot id=8026201833
2025-11-13 18:19:16,824 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - Request timeout error
2025-11-13 18:19:16,827 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8026201833)
2025-11-13 18:19:17,842 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-13 18:19:17,842 - aiogram.dispatcher - WARNING - Sleep for 1.463380 seconds and try again... (tryings = 1, bot id = 8026201833)
2025-11-13 18:19:19,324 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-13 18:19:19,324 - aiogram.dispatcher - WARNING - Sleep for 1.752729 seconds and try again... (tryings = 2, bot id = 8026201833)
2025-11-13 18:19:21,090 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-13 18:19:21,090 - aiogram.dispatcher - WARNING - Sleep for 2.278616 seconds and try again... (tryings = 3, bot id = 8026201833)
2025-11-13 18:19:23,379 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-13 18:19:23,380 - aiogram.dispatcher - WARNING - Sleep for 3.146410 seconds and try again... (tryings = 4, bot id = 8026201833)
2025-11-13 18:19:26,538 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-13 18:19:26,538 - aiogram.dispatcher - WARNING - Sleep for 4.212997 seconds and try again... (tryings = 5, bot id = 8026201833)
2025-11-13 18:19:30,754 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-13 18:19:30,754 - aiogram.dispatcher - WARNING - Sleep for 4.858118 seconds and try again... (tryings = 6, bot id = 8026201833)
2025-11-13 18:19:35,616 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-13 18:19:35,617 - aiogram.dispatcher - WARNING - Sleep for 4.918851 seconds and try again... (tryings = 7, bot id = 8026201833)
2025-11-13 18:19:40,543 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-13 18:19:40,544 - aiogram.dispatcher - WARNING - Sleep for 4.970345 seconds and try again... (tryings = 8, bot id = 8026201833)
2025-11-13 18:19:57,575 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-13 18:19:57,576 - aiogram.dispatcher - WARNING - Sleep for 4.944207 seconds and try again... (tryings = 9, bot id = 8026201833)
2025-11-13 18:20:14,583 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-13 18:20:14,584 - aiogram.dispatcher - WARNING - Sleep for 5.003177 seconds and try again... (tryings = 10, bot id = 8026201833)
2025-11-13 18:20:19,595 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-13 18:20:19,596 - aiogram.dispatcher - WARNING - Sleep for 4.982761 seconds and try again... (tryings = 11, bot id = 8026201833)
2025-11-13 18:20:36,632 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-13 18:20:36,632 - aiogram.dispatcher - WARNING - Sleep for 4.718196 seconds and try again... (tryings = 12, bot id = 8026201833)
2025-11-13 18:20:41,368 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-13 18:20:41,368 - aiogram.dispatcher - WARNING - Sleep for 4.968126 seconds and try again... (tryings = 13, bot id = 8026201833)
2025-11-13 18:20:46,346 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-13 18:20:46,347 - aiogram.dispatcher - WARNING - Sleep for 4.862531 seconds and try again... (tryings = 14, bot id = 8026201833)
2025-11-13 18:21:03,264 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-13 18:21:03,265 - aiogram.dispatcher - WARNING - Sleep for 4.996487 seconds and try again... (tryings = 15, bot id = 8026201833)
2025-11-13 18:21:08,271 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-13 18:21:08,272 - aiogram.dispatcher - WARNING - Sleep for 5.092339 seconds and try again... (tryings = 16, bot id = 8026201833)
2025-11-13 18:21:13,374 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-13 18:21:13,375 - aiogram.dispatcher - WARNING - Sleep for 5.177751 seconds and try again... (tryings = 17, bot id = 8026201833)
2025-11-13 18:21:26,604 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-13 18:21:26,605 - aiogram.dispatcher - WARNING - Sleep for 4.925425 seconds and try again... (tryings = 18, bot id = 8026201833)
2025-11-13 18:21:31,542 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-13 18:21:31,542 - aiogram.dispatcher - WARNING - Sleep for 5.088157 seconds and try again... (tryings = 19, bot id = 8026201833)
2025-11-13 18:21:37,370 - aiogram.dispatcher - INFO - Connection established (tryings = 20, bot id = 8026201833)
2025-11-13 18:21:37,776 - aiogram.event - INFO - Update id=896813224 is handled. Duration 405 ms by bot id=8026201833
2025-11-13 18:23:00,183 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 64] Указанное сетевое имя более недоступно
2025-11-13 18:23:00,183 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8026201833)
2025-11-13 18:23:01,295 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:23:01,296 - aiogram.dispatcher - WARNING - Sleep for 1.478869 seconds and try again... (tryings = 1, bot id = 8026201833)
2025-11-13 18:23:03,022 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:23:03,022 - aiogram.dispatcher - WARNING - Sleep for 1.911288 seconds and try again... (tryings = 2, bot id = 8026201833)
2025-11-13 18:23:05,070 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:23:05,071 - aiogram.dispatcher - WARNING - Sleep for 2.410898 seconds and try again... (tryings = 3, bot id = 8026201833)
2025-11-13 18:23:07,730 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:23:07,730 - aiogram.dispatcher - WARNING - Sleep for 2.982518 seconds and try again... (tryings = 4, bot id = 8026201833)
2025-11-13 18:23:10,907 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:23:10,913 - aiogram.dispatcher - WARNING - Sleep for 3.796654 seconds and try again... (tryings = 5, bot id = 8026201833)
2025-11-13 18:23:14,878 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:23:14,879 - aiogram.dispatcher - WARNING - Sleep for 4.994343 seconds and try again... (tryings = 6, bot id = 8026201833)
2025-11-13 18:23:20,009 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:23:20,010 - aiogram.dispatcher - WARNING - Sleep for 5.123818 seconds and try again... (tryings = 7, bot id = 8026201833)
2025-11-13 18:23:26,276 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:23:26,276 - aiogram.dispatcher - WARNING - Sleep for 5.081274 seconds and try again... (tryings = 8, bot id = 8026201833)
2025-11-13 18:23:31,481 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:23:31,481 - aiogram.dispatcher - WARNING - Sleep for 4.947519 seconds and try again... (tryings = 9, bot id = 8026201833)
2025-11-13 18:23:36,541 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:23:36,541 - aiogram.dispatcher - WARNING - Sleep for 4.987297 seconds and try again... (tryings = 10, bot id = 8026201833)
2025-11-13 18:23:41,858 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:23:41,859 - aiogram.dispatcher - WARNING - Sleep for 5.152470 seconds and try again... (tryings = 11, bot id = 8026201833)
2025-11-13 18:23:47,120 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:23:47,120 - aiogram.dispatcher - WARNING - Sleep for 4.742925 seconds and try again... (tryings = 12, bot id = 8026201833)
2025-11-13 18:23:51,973 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:23:51,974 - aiogram.dispatcher - WARNING - Sleep for 5.062490 seconds and try again... (tryings = 13, bot id = 8026201833)
2025-11-13 18:23:57,181 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:23:57,181 - aiogram.dispatcher - WARNING - Sleep for 5.177800 seconds and try again... (tryings = 14, bot id = 8026201833)
2025-11-13 18:24:02,468 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:24:02,468 - aiogram.dispatcher - WARNING - Sleep for 4.993624 seconds and try again... (tryings = 15, bot id = 8026201833)
2025-11-13 18:24:07,659 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:24:07,660 - aiogram.dispatcher - WARNING - Sleep for 4.985610 seconds and try again... (tryings = 16, bot id = 8026201833)
2025-11-13 18:24:12,830 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:24:12,830 - aiogram.dispatcher - WARNING - Sleep for 5.015642 seconds and try again... (tryings = 17, bot id = 8026201833)
2025-11-13 18:24:17,961 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:24:17,961 - aiogram.dispatcher - WARNING - Sleep for 5.202569 seconds and try again... (tryings = 18, bot id = 8026201833)
2025-11-13 18:24:23,308 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Указанное сетевое имя более недоступно]
2025-11-13 18:24:23,309 - aiogram.dispatcher - WARNING - Sleep for 4.914707 seconds and try again... (tryings = 19, bot id = 8026201833)
2025-11-13 18:24:28,414 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:24:28,415 - aiogram.dispatcher - WARNING - Sleep for 4.965464 seconds and try again... (tryings = 20, bot id = 8026201833)
2025-11-13 18:24:33,499 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:24:33,500 - aiogram.dispatcher - WARNING - Sleep for 5.076060 seconds and try again... (tryings = 21, bot id = 8026201833)
2025-11-13 18:24:38,705 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:24:38,705 - aiogram.dispatcher - WARNING - Sleep for 5.051904 seconds and try again... (tryings = 22, bot id = 8026201833)
2025-11-13 18:24:43,899 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:24:43,900 - aiogram.dispatcher - WARNING - Sleep for 5.082713 seconds and try again... (tryings = 23, bot id = 8026201833)
2025-11-13 18:24:49,095 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:24:49,095 - aiogram.dispatcher - WARNING - Sleep for 5.126333 seconds and try again... (tryings = 24, bot id = 8026201833)
2025-11-13 18:24:54,334 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:24:54,334 - aiogram.dispatcher - WARNING - Sleep for 4.888402 seconds and try again... (tryings = 25, bot id = 8026201833)
2025-11-13 18:24:59,358 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:24:59,359 - aiogram.dispatcher - WARNING - Sleep for 5.050895 seconds and try again... (tryings = 26, bot id = 8026201833)
2025-11-13 18:25:04,530 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:25:04,531 - aiogram.dispatcher - WARNING - Sleep for 5.034898 seconds and try again... (tryings = 27, bot id = 8026201833)
2025-11-13 18:25:09,677 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:25:09,677 - aiogram.dispatcher - WARNING - Sleep for 4.893935 seconds and try again... (tryings = 28, bot id = 8026201833)
2025-11-13 18:25:14,685 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:25:14,686 - aiogram.dispatcher - WARNING - Sleep for 4.901211 seconds and try again... (tryings = 29, bot id = 8026201833)
2025-11-13 18:25:19,730 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:25:19,730 - aiogram.dispatcher - WARNING - Sleep for 4.962407 seconds and try again... (tryings = 30, bot id = 8026201833)
2025-11-13 18:25:24,801 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:25:24,801 - aiogram.dispatcher - WARNING - Sleep for 4.975104 seconds and try again... (tryings = 31, bot id = 8026201833)
2025-11-13 18:25:29,887 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:25:29,887 - aiogram.dispatcher - WARNING - Sleep for 4.999074 seconds and try again... (tryings = 32, bot id = 8026201833)
2025-11-13 18:25:36,764 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [None]
2025-11-13 18:25:36,764 - aiogram.dispatcher - WARNING - Sleep for 4.881054 seconds and try again... (tryings = 33, bot id = 8026201833)
2025-11-13 18:25:41,768 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:25:41,768 - aiogram.dispatcher - WARNING - Sleep for 4.921578 seconds and try again... (tryings = 34, bot id = 8026201833)
2025-11-13 18:25:46,789 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Указанное сетевое имя более недоступно]
2025-11-13 18:25:46,789 - aiogram.dispatcher - WARNING - Sleep for 5.041711 seconds and try again... (tryings = 35, bot id = 8026201833)
2025-11-13 18:25:52,115 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:25:52,116 - aiogram.dispatcher - WARNING - Sleep for 4.950682 seconds and try again... (tryings = 36, bot id = 8026201833)
2025-11-13 18:25:57,178 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:25:57,178 - aiogram.dispatcher - WARNING - Sleep for 5.073448 seconds and try again... (tryings = 37, bot id = 8026201833)
2025-11-13 18:26:02,317 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Указанное сетевое имя более недоступно]
2025-11-13 18:26:02,317 - aiogram.dispatcher - WARNING - Sleep for 5.077242 seconds and try again... (tryings = 38, bot id = 8026201833)
2025-11-13 18:26:07,564 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:26:07,565 - aiogram.dispatcher - WARNING - Sleep for 5.154100 seconds and try again... (tryings = 39, bot id = 8026201833)
2025-11-13 18:26:12,774 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Указанное сетевое имя более недоступно]
2025-11-13 18:26:12,774 - aiogram.dispatcher - WARNING - Sleep for 4.756065 seconds and try again... (tryings = 40, bot id = 8026201833)
2025-11-13 18:26:17,639 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:26:17,640 - aiogram.dispatcher - WARNING - Sleep for 5.066552 seconds and try again... (tryings = 41, bot id = 8026201833)
2025-11-13 18:26:22,813 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:26:22,813 - aiogram.dispatcher - WARNING - Sleep for 4.917747 seconds and try again... (tryings = 42, bot id = 8026201833)
2025-11-13 18:26:27,853 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:26:27,854 - aiogram.dispatcher - WARNING - Sleep for 5.014125 seconds and try again... (tryings = 43, bot id = 8026201833)
2025-11-13 18:26:32,980 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:26:32,980 - aiogram.dispatcher - WARNING - Sleep for 5.119291 seconds and try again... (tryings = 44, bot id = 8026201833)
2025-11-13 18:26:38,257 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:26:38,257 - aiogram.dispatcher - WARNING - Sleep for 5.069081 seconds and try again... (tryings = 45, bot id = 8026201833)
2025-11-13 18:26:45,264 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Указанное сетевое имя более недоступно]
2025-11-13 18:26:45,265 - aiogram.dispatcher - WARNING - Sleep for 5.082711 seconds and try again... (tryings = 46, bot id = 8026201833)
2025-11-13 18:26:50,633 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Указанное сетевое имя более недоступно]
2025-11-13 18:26:50,634 - aiogram.dispatcher - WARNING - Sleep for 5.041721 seconds and try again... (tryings = 47, bot id = 8026201833)
2025-11-13 18:26:55,759 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Указанное сетевое имя более недоступно]
2025-11-13 18:26:55,759 - aiogram.dispatcher - WARNING - Sleep for 4.964231 seconds and try again... (tryings = 48, bot id = 8026201833)
2025-11-13 18:27:00,831 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:27:00,832 - aiogram.dispatcher - WARNING - Sleep for 4.905127 seconds and try again... (tryings = 49, bot id = 8026201833)
2025-11-13 18:27:05,869 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:27:05,869 - aiogram.dispatcher - WARNING - Sleep for 4.924358 seconds and try again... (tryings = 50, bot id = 8026201833)
2025-11-13 18:27:10,908 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:27:10,908 - aiogram.dispatcher - WARNING - Sleep for 4.971431 seconds and try again... (tryings = 51, bot id = 8026201833)
2025-11-13 18:27:15,901 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [None]
2025-11-13 18:27:15,902 - aiogram.dispatcher - WARNING - Sleep for 4.950023 seconds and try again... (tryings = 52, bot id = 8026201833)
2025-11-13 18:27:20,982 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:27:20,982 - aiogram.dispatcher - WARNING - Sleep for 4.910909 seconds and try again... (tryings = 53, bot id = 8026201833)
2025-11-13 18:27:26,015 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:27:26,016 - aiogram.dispatcher - WARNING - Sleep for 4.944721 seconds and try again... (tryings = 54, bot id = 8026201833)
2025-11-13 18:27:31,105 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:27:31,106 - aiogram.dispatcher - WARNING - Sleep for 5.154952 seconds and try again... (tryings = 55, bot id = 8026201833)
2025-11-13 18:27:36,365 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Указанное сетевое имя более недоступно]
2025-11-13 18:27:36,366 - aiogram.dispatcher - WARNING - Sleep for 5.079209 seconds and try again... (tryings = 56, bot id = 8026201833)
2025-11-13 18:27:41,477 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Указанное сетевое имя более недоступно]
2025-11-13 18:27:41,477 - aiogram.dispatcher - WARNING - Sleep for 4.715450 seconds and try again... (tryings = 57, bot id = 8026201833)
2025-11-13 18:27:46,214 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Указанное сетевое имя более недоступно]
2025-11-13 18:27:46,215 - aiogram.dispatcher - WARNING - Sleep for 5.025695 seconds and try again... (tryings = 58, bot id = 8026201833)
2025-11-13 18:27:53,419 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [None]
2025-11-13 18:27:53,420 - aiogram.dispatcher - WARNING - Sleep for 4.926329 seconds and try again... (tryings = 59, bot id = 8026201833)
2025-11-13 18:27:58,469 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:27:58,470 - aiogram.dispatcher - WARNING - Sleep for 5.063046 seconds and try again... (tryings = 60, bot id = 8026201833)
2025-11-13 18:28:03,596 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Указанное сетевое имя более недоступно]
2025-11-13 18:28:03,597 - aiogram.dispatcher - WARNING - Sleep for 4.951553 seconds and try again... (tryings = 61, bot id = 8026201833)
2025-11-13 18:28:08,593 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Указанное сетевое имя более недоступно]
2025-11-13 18:28:08,593 - aiogram.dispatcher - WARNING - Sleep for 4.832836 seconds and try again... (tryings = 62, bot id = 8026201833)
2025-11-13 18:28:13,538 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:28:13,538 - aiogram.dispatcher - WARNING - Sleep for 4.922706 seconds and try again... (tryings = 63, bot id = 8026201833)
2025-11-13 18:28:18,566 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:28:18,566 - aiogram.dispatcher - WARNING - Sleep for 4.904150 seconds and try again... (tryings = 64, bot id = 8026201833)
2025-11-13 18:28:23,572 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:28:23,573 - aiogram.dispatcher - WARNING - Sleep for 4.863839 seconds and try again... (tryings = 65, bot id = 8026201833)
2025-11-13 18:28:28,548 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:28:28,549 - aiogram.dispatcher - WARNING - Sleep for 4.927467 seconds and try again... (tryings = 66, bot id = 8026201833)
2025-11-13 18:28:33,591 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:28:33,592 - aiogram.dispatcher - WARNING - Sleep for 5.230204 seconds and try again... (tryings = 67, bot id = 8026201833)
2025-11-13 18:28:38,957 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:28:38,957 - aiogram.dispatcher - WARNING - Sleep for 4.787423 seconds and try again... (tryings = 68, bot id = 8026201833)
2025-11-13 18:28:43,855 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:28:43,856 - aiogram.dispatcher - WARNING - Sleep for 5.049395 seconds and try again... (tryings = 69, bot id = 8026201833)
2025-11-13 18:28:48,920 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [None]
2025-11-13 18:28:48,920 - aiogram.dispatcher - WARNING - Sleep for 5.029375 seconds and try again... (tryings = 70, bot id = 8026201833)
2025-11-13 18:28:54,078 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Указанное сетевое имя более недоступно]
2025-11-13 18:28:54,079 - aiogram.dispatcher - WARNING - Sleep for 5.159680 seconds and try again... (tryings = 71, bot id = 8026201833)
2025-11-13 18:28:59,353 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:28:59,353 - aiogram.dispatcher - WARNING - Sleep for 5.010721 seconds and try again... (tryings = 72, bot id = 8026201833)
2025-11-13 18:29:04,479 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:29:04,480 - aiogram.dispatcher - WARNING - Sleep for 5.022819 seconds and try again... (tryings = 73, bot id = 8026201833)
2025-11-13 18:29:09,609 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:29:09,609 - aiogram.dispatcher - WARNING - Sleep for 4.928502 seconds and try again... (tryings = 74, bot id = 8026201833)
2025-11-13 18:29:14,648 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorCertificateError: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:992)')]
2025-11-13 18:29:14,649 - aiogram.dispatcher - WARNING - Sleep for 5.160862 seconds and try again... (tryings = 75, bot id = 8026201833)
2025-11-13 18:29:25,930 - aiogram.dispatcher - INFO - Connection established (tryings = 76, bot id = 8026201833)
2025-11-13 18:29:26,272 - aiogram.event - INFO - Update id=896813225 is handled. Duration 344 ms by bot id=8026201833
2025-11-13 18:29:28,589 - aiogram.event - INFO - Update id=896813226 is handled. Duration 125 ms by bot id=8026201833
2025-11-13 18:29:30,613 - aiogram.event - INFO - Update id=896813227 is handled. Duration 217 ms by bot id=8026201833
2025-11-13 18:29:54,606 - aiogram.dispatcher - INFO - Polling stopped
2025-11-13 18:29:54,888 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-13 18:29:54,888 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 18:35:12,670 - __main__ - INFO - Инициализация базы данных...
2025-11-13 18:35:12,764 - __main__ - INFO - База данных инициализирована успешно
2025-11-13 18:35:13,047 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-13 18:35:13,048 - aiogram.dispatcher - INFO - Start polling
2025-11-13 18:35:13,124 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 18:35:16,637 - aiogram.event - INFO - Update id=896813228 is handled. Duration 328 ms by bot id=8026201833
2025-11-13 18:35:18,045 - aiogram.event - INFO - Update id=896813229 is handled. Duration 250 ms by bot id=8026201833
2025-11-13 18:35:21,705 - aiogram.event - INFO - Update id=896813230 is handled. Duration 139 ms by bot id=8026201833
2025-11-13 18:35:25,019 - aiogram.event - INFO - Update id=896813231 is handled. Duration 125 ms by bot id=8026201833
2025-11-13 18:35:29,475 - aiogram.event - INFO - Update id=896813232 is handled. Duration 125 ms by bot id=8026201833
2025-11-13 18:35:31,822 - aiogram.event - INFO - Update id=896813233 is handled. Duration 171 ms by bot id=8026201833
2025-11-13 18:40:53,968 - aiogram.dispatcher - INFO - Polling stopped
2025-11-13 18:40:54,223 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-13 18:40:54,224 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 18:48:54,844 - __main__ - INFO - Инициализация базы данных...
2025-11-13 18:48:54,949 - __main__ - INFO - База данных инициализирована успешно
2025-11-13 18:48:55,174 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-13 18:48:55,174 - aiogram.dispatcher - INFO - Start polling
2025-11-13 18:48:55,258 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-13 18:49:01,077 - aiogram.event - INFO - Update id=896813234 is handled. Duration 359 ms by bot id=8026201833
2025-11-13 18:49:02,794 - aiogram.event - INFO - Update id=896813235 is handled. Duration 265 ms by bot id=8026201833
2025-11-13 18:49:06,261 - aiogram.event - INFO - Update id=896813236 is handled. Duration 235 ms by bot id=8026201833
2025-11-13 18:49:07,629 - aiogram.event - INFO - Update id=896813237 is handled. Duration 125 ms by bot id=8026201833
2025-11-13 18:49:10,607 - aiogram.event - INFO - Update id=896813238 is handled. Duration 170 ms by bot id=8026201833
2025-11-13 18:49:13,660 - aiogram.event - INFO - Update id=896813239 is handled. Duration 484 ms by bot id=8026201833
2025-11-13 18:49:19,660 - aiogram.event - INFO - Update id=896813240 is handled. Duration 125 ms by bot id=8026201833
2025-11-13 18:49:22,761 - aiogram.event - INFO - Update id=896813241 is handled. Duration 172 ms by bot id=8026201833
2025-11-13 18:49:31,674 - aiogram.event - INFO - Update id=896813242 is handled. Duration 109 ms by bot id=8026201833
2025-11-13 18:49:47,994 - aiogram.event - INFO - Update id=896813243 is handled. Duration 436 ms by bot id=8026201833
2025-11-13 18:49:57,836 - aiogram.event - INFO - Update id=896813244 is handled. Duration 125 ms by bot id=8026201833
2025-11-13 18:49:59,716 - aiogram.event - INFO - Update id=896813245 is handled. Duration 202 ms by bot id=8026201833
2025-11-13 18:50:02,225 - aiogram.event - INFO - Update id=896813246 is handled. Duration 265 ms by bot id=8026201833
2025-11-13 18:50:03,469 - aiogram.event - INFO - Update id=896813247 is handled. Duration 280 ms by bot id=8026201833
2025-11-13 18:50:04,680 - aiogram.event - INFO - Update id=896813248 is handled. Duration 359 ms by bot id=8026201833
2025-11-13 18:50:07,091 - aiogram.event - INFO - Update id=896813249 is handled. Duration 780 ms by bot id=8026201833
2025-11-13 18:50:36,080 - aiogram.event - INFO - Update id=896813250 is handled. Duration 264 ms by bot id=8026201833
2025-11-13 18:50:37,240 - aiogram.event - INFO - Update id=896813251 is handled. Duration 155 ms by bot id=8026201833
2025-11-13 18:50:38,519 - aiogram.event - INFO - Update id=896813252 is handled. Duration 110 ms by bot id=8026201833
2025-11-13 18:50:39,365 - aiogram.event - INFO - Update id=896813253 is handled. Duration 108 ms by bot id=8026201833
2025-11-13 18:50:41,134 - aiogram.event - INFO - Update id=896813254 is handled. Duration 266 ms by bot id=8026201833
2025-11-13 18:50:42,082 - aiogram.event - INFO - Update id=896813255 is handled. Duration 219 ms by bot id=8026201833
2025-11-13 18:50:43,011 - aiogram.event - INFO - Update id=896813256 is handled. Duration 125 ms by bot id=8026201833
2025-11-13 18:50:45,126 - aiogram.event - INFO - Update id=896813257 is handled. Duration 203 ms by bot id=8026201833
2025-11-13 18:50:49,243 - aiogram.event - INFO - Update id=896813258 is handled. Duration 280 ms by bot id=8026201833
2025-11-13 18:50:52,781 - aiogram.event - INFO - Update id=896813259 is handled. Duration 2359 ms by bot id=8026201833
2025-11-13 18:51:47,957 - aiogram.event - INFO - Update id=896813260 is handled. Duration 469 ms by bot id=8026201833
2025-11-13 18:51:51,369 - aiogram.event - INFO - Update id=896813261 is handled. Duration 108 ms by bot id=8026201833
2025-11-13 18:52:42,565 - aiogram.dispatcher - INFO - Polling stopped
2025-11-13 18:52:42,832 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-13 18:52:42,832 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-14 18:00:22,141 - __main__ - INFO - Инициализация базы данных...
2025-11-14 18:00:22,240 - __main__ - INFO - База данных инициализирована успешно
2025-11-14 18:00:22,541 - __main__ - WARNING - Не удалось отправить уведомление админу 1172430615: Telegram server says - Forbidden: bot was blocked by the user
2025-11-14 18:00:22,905 - __main__ - WARNING - Не удалось отправить уведомление админу 1273006697: Telegram server says - Bad Request: chat not found
2025-11-14 18:00:22,905 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-14 18:00:22,906 - aiogram.dispatcher - INFO - Start polling
2025-11-14 18:00:22,993 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-14 18:00:44,201 - aiogram.event - INFO - Update id=896813290 is handled. Duration 405 ms by bot id=8026201833
2025-11-14 18:00:45,590 - aiogram.event - INFO - Update id=896813291 is handled. Duration 109 ms by bot id=8026201833
2025-11-14 18:00:47,673 - aiogram.event - INFO - Update id=896813292 is handled. Duration 172 ms by bot id=8026201833
2025-11-14 18:01:06,447 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-14 18:01:06,725 - aiogram.event - INFO - Update id=896813293 is handled. Duration 890 ms by bot id=8026201833
2025-11-14 18:01:15,141 - aiogram.event - INFO - Update id=896813294 is handled. Duration 203 ms by bot id=8026201833
2025-11-14 18:01:30,893 - aiogram.dispatcher - INFO - Polling stopped
2025-11-14 18:01:31,159 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-14 18:01:31,159 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-14 18:02:35,861 - __main__ - INFO - Инициализация базы данных...
2025-11-14 18:02:35,961 - __main__ - INFO - База данных инициализирована успешно
2025-11-14 18:02:36,154 - __main__ - WARNING - Не удалось отправить уведомление админу 1172430615: Telegram server says - Forbidden: bot was blocked by the user
2025-11-14 18:02:36,255 - __main__ - WARNING - Не удалось отправить уведомление админу 1273006697: Telegram server says - Bad Request: chat not found
2025-11-14 18:02:36,255 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-14 18:02:36,255 - aiogram.dispatcher - INFO - Start polling
2025-11-14 18:02:36,347 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-14 18:02:41,509 - aiogram.event - INFO - Update id=896813295 is handled. Duration 311 ms by bot id=8026201833
2025-11-14 18:02:42,840 - aiogram.event - INFO - Update id=896813296 is handled. Duration 109 ms by bot id=8026201833
2025-11-14 18:02:45,901 - aiogram.event - INFO - Update id=896813297 is handled. Duration 125 ms by bot id=8026201833
2025-11-14 18:02:57,477 - aiogram.event - INFO - Update id=896813298 is handled. Duration 171 ms by bot id=8026201833
2025-11-14 18:03:07,775 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-14 18:03:07,919 - aiogram.event - INFO - Update id=896813299 is handled. Duration 422 ms by bot id=8026201833
2025-11-14 18:03:11,864 - aiogram.event - INFO - Update id=896813300 is handled. Duration 217 ms by bot id=8026201833
2025-11-14 18:03:13,287 - aiogram.event - INFO - Update id=896813301 is handled. Duration 233 ms by bot id=8026201833
2025-11-14 18:03:16,251 - aiogram.event - INFO - Update id=896813302 is handled. Duration 250 ms by bot id=8026201833
2025-11-14 18:03:18,323 - aiogram.event - INFO - Update id=896813303 is handled. Duration 109 ms by bot id=8026201833
2025-11-14 18:04:31,398 - aiogram.dispatcher - INFO - Polling stopped
2025-11-14 18:04:31,661 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-14 18:04:31,663 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-14 18:14:58,339 - __main__ - INFO - Инициализация базы данных...
2025-11-14 18:14:58,580 - __main__ - INFO - База данных инициализирована успешно
2025-11-14 18:14:58,908 - __main__ - WARNING - Не удалось отправить уведомление админу 1273006697: Telegram server says - Bad Request: chat not found
2025-11-14 18:14:58,908 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-14 18:14:58,908 - aiogram.dispatcher - INFO - Start polling
2025-11-14 18:14:58,998 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-14 18:20:16,414 - aiogram.event - INFO - Update id=896813304 is handled. Duration 421 ms by bot id=8026201833
2025-11-14 18:20:17,621 - aiogram.event - INFO - Update id=896813305 is handled. Duration 108 ms by bot id=8026201833
2025-11-14 18:20:25,278 - aiogram.event - INFO - Update id=896813306 is handled. Duration 483 ms by bot id=8026201833
2025-11-14 18:20:28,241 - aiogram.event - INFO - Update id=896813307 is handled. Duration 217 ms by bot id=8026201833
2025-11-14 18:20:32,040 - aiogram.event - INFO - Update id=896813308 is handled. Duration 139 ms by bot id=8026201833
2025-11-14 18:20:58,957 - aiogram.dispatcher - INFO - Polling stopped
2025-11-14 18:20:59,217 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-14 18:20:59,219 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-14 18:21:18,378 - __main__ - INFO - Инициализация базы данных...
2025-11-14 18:21:18,598 - __main__ - INFO - База данных инициализирована успешно
2025-11-14 18:21:18,944 - __main__ - WARNING - Не удалось отправить уведомление админу 1273006697: Telegram server says - Bad Request: chat not found
2025-11-14 18:21:18,945 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-14 18:21:18,946 - aiogram.dispatcher - INFO - Start polling
2025-11-14 18:21:19,035 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-14 18:21:22,511 - aiogram.event - INFO - Update id=896813309 is handled. Duration 328 ms by bot id=8026201833
2025-11-14 18:24:16,222 - aiogram.event - INFO - Update id=896813310 is handled. Duration 390 ms by bot id=8026201833
2025-11-14 18:24:51,324 - aiogram.event - INFO - Update id=896813311 is handled. Duration 297 ms by bot id=8026201833
2025-11-14 18:24:54,060 - aiogram.event - INFO - Update id=896813312 is handled. Duration 140 ms by bot id=8026201833
2025-11-14 18:24:56,251 - aiogram.event - INFO - Update id=896813313 is handled. Duration 140 ms by bot id=8026201833
2025-11-14 18:25:01,311 - aiogram.event - INFO - Update id=896813314 is handled. Duration 140 ms by bot id=8026201833
2025-11-14 18:25:13,492 - aiogram.event - INFO - Update id=896813315 is handled. Duration 390 ms by bot id=8026201833
2025-11-14 18:25:14,685 - aiogram.event - INFO - Update id=896813316 is handled. Duration 359 ms by bot id=8026201833
2025-11-14 18:25:15,685 - aiogram.event - INFO - Update id=896813317 is handled. Duration 282 ms by bot id=8026201833
2025-11-14 18:25:19,301 - aiogram.event - INFO - Update id=896813318 is handled. Duration 266 ms by bot id=8026201833
2025-11-14 18:27:37,412 - aiogram.event - INFO - Update id=896813319 is handled. Duration 389 ms by bot id=8026201833
2025-11-14 18:28:22,191 - aiogram.event - INFO - Update id=896813320 is handled. Duration 390 ms by bot id=8026201833
2025-11-14 18:28:22,457 - aiogram.event - INFO - Update id=896813321 is handled. Duration 218 ms by bot id=8026201833
2025-11-14 18:28:24,557 - aiogram.event - INFO - Update id=896813322 is handled. Duration 203 ms by bot id=8026201833
2025-11-14 18:28:25,609 - aiogram.event - INFO - Update id=896813323 is handled. Duration 234 ms by bot id=8026201833
2025-11-14 18:28:26,443 - aiogram.event - INFO - Update id=896813324 is handled. Duration 93 ms by bot id=8026201833
2025-11-14 18:28:30,397 - aiogram.event - INFO - Update id=896813325 is handled. Duration 93 ms by bot id=8026201833
2025-11-14 18:28:32,026 - aiogram.event - INFO - Update id=896813326 is handled. Duration 156 ms by bot id=8026201833
2025-11-14 18:28:34,389 - aiogram.event - INFO - Update id=896813327 is handled. Duration 734 ms by bot id=8026201833
2025-11-14 18:28:36,290 - aiogram.event - INFO - Update id=896813328 is handled. Duration 703 ms by bot id=8026201833
2025-11-14 18:28:39,656 - aiogram.event - INFO - Update id=896813329 is handled. Duration 156 ms by bot id=8026201833
2025-11-14 18:28:41,681 - aiogram.event - INFO - Update id=896813330 is handled. Duration 202 ms by bot id=8026201833
2025-11-14 18:28:48,016 - aiogram.event - INFO - Update id=896813331 is handled. Duration 218 ms by bot id=8026201833
2025-11-14 18:30:25,283 - aiogram.event - INFO - Update id=896813332 is handled. Duration 703 ms by bot id=8026201833
2025-11-14 18:31:51,832 - aiogram.event - INFO - Update id=896813333 is handled. Duration 296 ms by bot id=8026201833
2025-11-14 18:31:52,878 - aiogram.event - INFO - Update id=896813334 is handled. Duration 140 ms by bot id=8026201833
2025-11-14 18:31:54,292 - aiogram.event - INFO - Update id=896813335 is handled. Duration 406 ms by bot id=8026201833
2025-11-14 18:31:56,254 - aiogram.event - INFO - Update id=896813336 is handled. Duration 218 ms by bot id=8026201833
2025-11-14 18:31:58,152 - aiogram.event - INFO - Update id=896813337 is handled. Duration 265 ms by bot id=8026201833
2025-11-14 18:32:01,635 - aiogram.event - INFO - Update id=896813338 is handled. Duration 140 ms by bot id=8026201833
2025-11-14 18:32:14,046 - aiogram.event - INFO - Update id=896813339 is handled. Duration 250 ms by bot id=8026201833
2025-11-14 18:33:14,479 - aiogram.event - INFO - Update id=896813340 is handled. Duration 281 ms by bot id=8026201833
2025-11-14 18:33:29,213 - aiogram.event - INFO - Update id=896813341 is handled. Duration 171 ms by bot id=8026201833
2025-11-14 18:33:30,865 - aiogram.event - INFO - Update id=896813342 is handled. Duration 343 ms by bot id=8026201833
2025-11-14 18:33:32,480 - aiogram.event - INFO - Update id=896813343 is handled. Duration 375 ms by bot id=8026201833
2025-11-14 18:33:33,467 - aiogram.event - INFO - Update id=896813344 is handled. Duration 219 ms by bot id=8026201833
2025-11-14 18:33:40,158 - aiogram.event - INFO - Update id=896813345 is handled. Duration 390 ms by bot id=8026201833
2025-11-14 18:33:43,094 - aiogram.event - INFO - Update id=896813346 is handled. Duration 156 ms by bot id=8026201833
2025-11-14 18:33:43,998 - aiogram.event - INFO - Update id=896813347 is handled. Duration 155 ms by bot id=8026201833
2025-11-14 18:33:45,514 - aiogram.event - INFO - Update id=896813348 is handled. Duration 296 ms by bot id=8026201833
2025-11-14 18:33:47,204 - aiogram.event - INFO - Update id=896813349 is handled. Duration 546 ms by bot id=8026201833
2025-11-14 18:34:07,823 - aiogram.event - INFO - Update id=896813350 is handled. Duration 343 ms by bot id=8026201833
2025-11-14 18:37:28,492 - aiogram.event - INFO - Update id=896813351 is handled. Duration 484 ms by bot id=8026201833
2025-11-14 18:37:34,481 - aiogram.event - INFO - Update id=896813352 is handled. Duration 125 ms by bot id=8026201833
2025-11-14 18:38:05,123 - aiogram.event - INFO - Update id=896813353 is handled. Duration 311 ms by bot id=8026201833
2025-11-14 18:39:13,052 - aiogram.event - INFO - Update id=896813354 is handled. Duration 781 ms by bot id=8026201833
2025-11-14 18:40:21,476 - aiogram.event - INFO - Update id=896813355 is handled. Duration 469 ms by bot id=8026201833
2025-11-14 18:41:59,628 - aiogram.event - INFO - Update id=896813356 is handled. Duration 280 ms by bot id=8026201833
2025-11-14 18:42:08,597 - aiogram.event - INFO - Update id=896813357 is handled. Duration 125 ms by bot id=8026201833
2025-11-14 18:49:58,064 - aiogram.event - INFO - Update id=896813358 is handled. Duration 281 ms by bot id=8026201833
2025-11-14 18:52:45,445 - aiogram.event - INFO - Update id=896813359 is handled. Duration 1406 ms by bot id=8026201833
2025-11-15 13:20:34,842 - __main__ - INFO - Инициализация базы данных...
2025-11-15 13:20:35,034 - __main__ - INFO - База данных инициализирована успешно
2025-11-15 13:20:35,746 - __main__ - WARNING - Не удалось отправить уведомление админу 1273006697: Telegram server says - Bad Request: chat not found
2025-11-15 13:20:35,746 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-15 13:20:35,746 - aiogram.dispatcher - INFO - Start polling
2025-11-15 13:20:35,848 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-15 13:20:49,677 - aiogram.event - INFO - Update id=896813360 is handled. Duration 515 ms by bot id=8026201833
2025-11-15 13:20:51,619 - aiogram.event - INFO - Update id=896813361 is handled. Duration 93 ms by bot id=8026201833
2025-11-15 13:20:53,881 - aiogram.event - INFO - Update id=896813362 is handled. Duration 108 ms by bot id=8026201833
2025-11-15 13:21:24,061 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-15 13:21:24,375 - aiogram.event - INFO - Update id=896813363 is handled. Duration 625 ms by bot id=8026201833
2025-11-15 13:21:30,509 - aiogram.event - INFO - Update id=896813364 is handled. Duration 296 ms by bot id=8026201833
2025-11-15 13:21:33,373 - aiogram.event - INFO - Update id=896813365 is handled. Duration 311 ms by bot id=8026201833
2025-11-15 13:21:41,550 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-15 13:21:41,696 - aiogram.event - INFO - Update id=896813366 is handled. Duration 328 ms by bot id=8026201833
2025-11-15 13:21:42,990 - aiogram.event - INFO - Update id=896813367 is handled. Duration 202 ms by bot id=8026201833
2025-11-15 13:21:44,527 - aiogram.event - INFO - Update id=896813368 is handled. Duration 312 ms by bot id=8026201833
2025-11-15 13:21:46,469 - aiogram.event - INFO - Update id=896813369 is handled. Duration 202 ms by bot id=8026201833
2025-11-15 13:21:48,310 - aiogram.event - INFO - Update id=896813370 is handled. Duration 203 ms by bot id=8026201833
2025-11-15 13:21:52,511 - aiogram.event - INFO - Update id=896813371 is handled. Duration 109 ms by bot id=8026201833
2025-11-15 13:21:58,750 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-15 13:21:58,861 - aiogram.event - INFO - Update id=896813372 is handled. Duration 421 ms by bot id=8026201833
2025-11-15 13:22:07,249 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-15 13:22:07,446 - aiogram.event - INFO - Update id=896813373 is handled. Duration 469 ms by bot id=8026201833
2025-11-15 13:22:09,494 - aiogram.event - INFO - Update id=896813374 is handled. Duration 296 ms by bot id=8026201833
2025-11-15 13:22:12,054 - aiogram.event - INFO - Update id=896813375 is handled. Duration 297 ms by bot id=8026201833
2025-11-15 13:40:53,363 - aiogram.event - INFO - Update id=896813376 is handled. Duration 342 ms by bot id=8026201833
2025-11-15 13:41:07,411 - aiogram.event - INFO - Update id=896813377 is handled. Duration 172 ms by bot id=8026201833
2025-11-15 13:41:10,499 - aiogram.event - INFO - Update id=896813378 is handled. Duration 202 ms by bot id=8026201833
2025-11-15 13:41:15,523 - aiogram.event - INFO - Update id=896813379 is handled. Duration 202 ms by bot id=8026201833
2025-11-15 13:41:36,903 - httpx - INFO - HTTP Request: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address "HTTP/1.1 200 "
2025-11-15 13:41:37,314 - aiogram.event - INFO - Update id=896813380 is handled. Duration 766 ms by bot id=8026201833
2025-11-15 13:41:42,020 - aiogram.event - INFO - Update id=896813381 is handled. Duration 297 ms by bot id=8026201833
2025-11-15 13:41:44,577 - aiogram.event - INFO - Update id=896813382 is handled. Duration 719 ms by bot id=8026201833
2025-11-15 13:41:50,331 - aiogram.event - INFO - Update id=896813383 is handled. Duration 125 ms by bot id=8026201833
2025-11-15 13:41:53,206 - aiogram.event - INFO - Update id=896813384 is handled. Duration 344 ms by bot id=8026201833
2025-11-15 13:42:50,174 - aiogram.event - INFO - Update id=896813385 is handled. Duration 405 ms by bot id=8026201833
2025-11-15 13:42:58,411 - aiogram.event - INFO - Update id=896813386 is handled. Duration 155 ms by bot id=8026201833
2025-11-15 13:43:59,453 - aiogram.event - INFO - Update id=896813387 is handled. Duration 311 ms by bot id=8026201833
2025-11-15 13:44:03,250 - aiogram.event - INFO - Update id=896813388 is handled. Duration 219 ms by bot id=8026201833
2025-11-15 13:44:06,922 - aiogram.event - INFO - Update id=896813389 is handled. Duration 297 ms by bot id=8026201833
2025-11-15 13:44:08,777 - aiogram.event - INFO - Update id=896813390 is handled. Duration 125 ms by bot id=8026201833
2025-11-15 13:44:11,541 - aiogram.event - INFO - Update id=896813391 is handled. Duration 186 ms by bot id=8026201833
2025-11-15 13:44:13,071 - aiogram.event - INFO - Update id=896813392 is handled. Duration 313 ms by bot id=8026201833
2025-11-15 13:44:14,293 - aiogram.event - INFO - Update id=896813393 is handled. Duration 313 ms by bot id=8026201833
2025-11-15 13:44:15,637 - aiogram.event - INFO - Update id=896813394 is handled. Duration 125 ms by bot id=8026201833
2025-11-15 13:44:18,387 - aiogram.event - INFO - Update id=896813395 is handled. Duration 110 ms by bot id=8026201833
2025-11-15 13:44:20,329 - aiogram.event - INFO - Update id=896813396 is handled. Duration 311 ms by bot id=8026201833
2025-11-15 13:44:25,096 - aiogram.event - INFO - Update id=896813397 is handled. Duration 202 ms by bot id=8026201833
2025-11-15 13:44:27,923 - aiogram.event - INFO - Update id=896813398 is handled. Duration 233 ms by bot id=8026201833
2025-11-15 13:44:36,599 - aiogram.event - INFO - Update id=896813399 is handled. Duration 313 ms by bot id=8026201833
2025-11-15 19:09:24,188 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - Request timeout error
2025-11-15 19:09:24,267 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8026201833)
2025-11-15 19:09:25,344 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-15 19:09:25,361 - aiogram.dispatcher - WARNING - Sleep for 1.168316 seconds and try again... (tryings = 1, bot id = 8026201833)
2025-11-15 19:09:26,554 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-15 19:09:26,554 - aiogram.dispatcher - WARNING - Sleep for 1.613457 seconds and try again... (tryings = 2, bot id = 8026201833)
2025-11-15 19:09:28,179 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-15 19:09:28,179 - aiogram.dispatcher - WARNING - Sleep for 2.147901 seconds and try again... (tryings = 3, bot id = 8026201833)
2025-11-15 19:09:30,331 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-15 19:09:30,331 - aiogram.dispatcher - WARNING - Sleep for 2.957428 seconds and try again... (tryings = 4, bot id = 8026201833)
2025-11-15 19:09:33,295 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-15 19:09:33,296 - aiogram.dispatcher - WARNING - Sleep for 4.067860 seconds and try again... (tryings = 5, bot id = 8026201833)
2025-11-15 19:09:37,368 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-15 19:09:37,368 - aiogram.dispatcher - WARNING - Sleep for 5.162222 seconds and try again... (tryings = 6, bot id = 8026201833)
2025-11-15 19:09:42,541 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-15 19:09:42,541 - aiogram.dispatcher - WARNING - Sleep for 4.910163 seconds and try again... (tryings = 7, bot id = 8026201833)
2025-11-15 19:09:47,455 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-15 19:09:47,455 - aiogram.dispatcher - WARNING - Sleep for 4.891508 seconds and try again... (tryings = 8, bot id = 8026201833)
2025-11-15 19:09:52,353 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-15 19:09:52,353 - aiogram.dispatcher - WARNING - Sleep for 5.014463 seconds and try again... (tryings = 9, bot id = 8026201833)
2025-11-15 19:09:57,370 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-15 19:09:57,370 - aiogram.dispatcher - WARNING - Sleep for 5.004937 seconds and try again... (tryings = 10, bot id = 8026201833)
2025-11-15 19:10:02,384 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2025-11-15 19:10:02,384 - aiogram.dispatcher - WARNING - Sleep for 5.014261 seconds and try again... (tryings = 11, bot id = 8026201833)
2025-11-15 19:10:07,921 - aiogram.dispatcher - INFO - Connection established (tryings = 12, bot id = 8026201833)
2025-11-15 19:10:10,669 - aiogram.event - INFO - Update id=896813400 is handled. Duration 2734 ms by bot id=8026201833
2025-11-15 20:20:54,282 - aiogram.dispatcher - INFO - Polling stopped
2025-11-15 20:20:54,632 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-15 20:20:54,643 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-16 11:49:18,726 - __main__ - INFO - Инициализация базы данных...
2025-11-16 11:49:18,941 - __main__ - INFO - База данных инициализирована успешно
2025-11-16 11:49:19,429 - __main__ - INFO - Бот запущен и готов к работе!
2025-11-16 11:49:19,430 - aiogram.dispatcher - INFO - Start polling
2025-11-16 11:49:19,537 - aiogram.dispatcher - INFO - Run polling for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
2025-11-16 11:49:26,393 - aiogram.event - INFO - Update id=896813401 is handled. Duration 453 ms by bot id=8026201833
2025-11-16 11:49:29,773 - aiogram.event - INFO - Update id=896813402 is handled. Duration 203 ms by bot id=8026201833
2025-11-16 11:49:31,315 - aiogram.event - INFO - Update id=896813403 is handled. Duration 312 ms by bot id=8026201833
2025-11-16 11:49:32,437 - aiogram.event - INFO - Update id=896813404 is handled. Duration 312 ms by bot id=8026201833
2025-11-16 11:49:33,868 - aiogram.event - INFO - Update id=896813405 is handled. Duration 295 ms by bot id=8026201833
2025-11-16 11:49:35,097 - aiogram.event - INFO - Update id=896813406 is handled. Duration 296 ms by bot id=8026201833
2025-11-16 11:49:36,020 - aiogram.event - INFO - Update id=896813407 is handled. Duration 203 ms by bot id=8026201833
2025-11-16 11:49:38,378 - aiogram.event - INFO - Update id=896813408 is handled. Duration 187 ms by bot id=8026201833
2025-11-16 11:50:49,442 - aiogram.event - INFO - Update id=896813409 is handled. Duration 515 ms by bot id=8026201833
2025-11-16 11:50:52,718 - aiogram.event - INFO - Update id=896813410 is handled. Duration 202 ms by bot id=8026201833
2025-11-16 11:50:54,055 - aiogram.event - INFO - Update id=896813411 is handled. Duration 203 ms by bot id=8026201833
2025-11-16 11:50:55,893 - aiogram.event - INFO - Update id=896813412 is handled. Duration 313 ms by bot id=8026201833
2025-11-16 11:50:57,032 - aiogram.event - INFO - Update id=896813413 is handled. Duration 280 ms by bot id=8026201833
2025-11-16 11:50:58,350 - aiogram.event - INFO - Update id=896813414 is handled. Duration 405 ms by bot id=8026201833
2025-11-16 11:50:59,914 - aiogram.event - INFO - Update id=896813415 is handled. Duration 109 ms by bot id=8026201833
2025-11-16 11:51:01,934 - aiogram.event - INFO - Update id=896813416 is handled. Duration 204 ms by bot id=8026201833
2025-11-16 11:51:06,132 - aiogram.event - INFO - Update id=896813417 is handled. Duration 297 ms by bot id=8026201833
2025-11-16 11:55:07,912 - aiogram.event - INFO - Update id=896813418 is handled. Duration 405 ms by bot id=8026201833
2025-11-16 11:55:11,087 - aiogram.event - INFO - Update id=896813419 is handled. Duration 296 ms by bot id=8026201833
2025-11-16 11:58:38,763 - aiogram.event - INFO - Update id=896813420 is handled. Duration 532 ms by bot id=8026201833
2025-11-16 12:02:18,401 - aiogram.event - INFO - Update id=896813421 is handled. Duration 625 ms by bot id=8026201833
2025-11-16 12:03:09,192 - aiogram.event - INFO - Update id=896813422 is handled. Duration 406 ms by bot id=8026201833
2025-11-16 12:03:10,744 - aiogram.event - INFO - Update id=896813423 is handled. Duration 328 ms by bot id=8026201833
2025-11-16 12:03:11,655 - aiogram.event - INFO - Update id=896813424 is handled. Duration 422 ms by bot id=8026201833
2025-11-16 12:03:13,091 - aiogram.event - INFO - Update id=896813425 is handled. Duration 562 ms by bot id=8026201833
2025-11-16 12:10:51,744 - aiogram.event - INFO - Update id=896813426 is handled. Duration 516 ms by bot id=8026201833
2025-11-16 12:11:16,522 - aiogram.event - INFO - Update id=896813427 is handled. Duration 407 ms by bot id=8026201833
2025-11-16 12:11:21,035 - aiogram.event - INFO - Update id=896813428 is handled. Duration 312 ms by bot id=8026201833
2025-11-16 12:11:42,413 - aiogram.event - INFO - Update id=896813429 is handled. Duration 389 ms by bot id=8026201833
2025-11-16 12:11:44,091 - aiogram.event - INFO - Update id=896813430 is handled. Duration 125 ms by bot id=8026201833
2025-11-16 12:11:54,001 - aiogram.event - INFO - Update id=896813431 is handled. Duration 406 ms by bot id=8026201833
2025-11-16 12:11:56,356 - aiogram.event - INFO - Update id=896813432 is handled. Duration 311 ms by bot id=8026201833
2025-11-16 12:12:08,345 - aiogram.event - INFO - Update id=896813433 is handled. Duration 312 ms by bot id=8026201833
2025-11-16 12:13:05,685 - aiogram.event - INFO - Update id=896813434 is handled. Duration 640 ms by bot id=8026201833
2025-11-16 12:13:08,140 - aiogram.event - INFO - Update id=896813435 is handled. Duration 203 ms by bot id=8026201833
2025-11-16 12:14:04,656 - aiogram.event - INFO - Update id=896813436 is handled. Duration 405 ms by bot id=8026201833
2025-11-16 12:14:05,791 - aiogram.event - INFO - Update id=896813437 is handled. Duration 297 ms by bot id=8026201833
2025-11-16 12:14:06,318 - aiogram.event - INFO - Update id=896813438 is handled. Duration 110 ms by bot id=8026201833
2025-11-16 12:14:07,359 - aiogram.event - INFO - Update id=896813439 is handled. Duration 139 ms by bot id=8026201833
2025-11-16 12:14:08,150 - aiogram.event - INFO - Update id=896813440 is handled. Duration 203 ms by bot id=8026201833
2025-11-16 12:14:09,394 - aiogram.event - INFO - Update id=896813441 is handled. Duration 219 ms by bot id=8026201833
2025-11-16 12:14:09,991 - aiogram.event - INFO - Update id=896813442 is handled. Duration 92 ms by bot id=8026201833
2025-11-16 12:14:16,551 - aiogram.event - INFO - Update id=896813443 is handled. Duration 203 ms by bot id=8026201833
2025-11-16 12:14:17,976 - aiogram.event - INFO - Update id=896813444 is handled. Duration 500 ms by bot id=8026201833
2025-11-16 12:14:19,209 - aiogram.event - INFO - Update id=896813445 is handled. Duration 202 ms by bot id=8026201833
2025-11-16 12:14:21,051 - aiogram.event - INFO - Update id=896813446 is handled. Duration 188 ms by bot id=8026201833
2025-11-16 12:14:22,898 - aiogram.event - INFO - Update id=896813447 is handled. Duration 515 ms by bot id=8026201833
2025-11-16 12:14:23,917 - aiogram.event - INFO - Update id=896813448 is handled. Duration 280 ms by bot id=8026201833
2025-11-16 12:14:25,254 - aiogram.event - INFO - Update id=896813449 is handled. Duration 312 ms by bot id=8026201833
2025-11-16 12:14:29,957 - aiogram.event - INFO - Update id=896813450 is handled. Duration 202 ms by bot id=8026201833
2025-11-16 12:14:31,792 - aiogram.event - INFO - Update id=896813451 is handled. Duration 187 ms by bot id=8026201833
2025-11-16 12:15:38,671 - aiogram.event - INFO - Update id=896813452 is handled. Duration 813 ms by bot id=8026201833
2025-11-16 12:58:39,695 - aiogram.event - INFO - Update id=896813453 is handled. Duration 610 ms by bot id=8026201833
2025-11-16 12:58:40,924 - aiogram.event - INFO - Update id=896813454 is handled. Duration 313 ms by bot id=8026201833
2025-11-16 13:22:06,300 - aiogram.dispatcher - INFO - Polling stopped
2025-11-16 13:22:06,566 - __main__ - INFO - Соединение с базой данных закрыто
2025-11-16 13:22:06,582 - aiogram.dispatcher - INFO - Polling stopped for bot @YourOverseasShop_bot id=8026201833 - 'OverseasOrderBot'
